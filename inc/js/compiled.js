!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(window.jQuery||window.Zepto)}(function(u){var d,n,h,a,p,e,l="Close",c="BeforeClose",m="MarkupParse",g="Open",o="Change",i="mfp",f="."+i,v="mfp-ready",s="mfp-removing",r="mfp-prevent-close",t=function(){},y=!!window.jQuery,w=u(window),b=function(t,e){d.ev.on(i+t+f,e)},C=function(t,e,i,n){var a=document.createElement("div");return a.className="mfp-"+t,i&&(a.innerHTML=i),n?e&&e.appendChild(a):(a=u(a),e&&a.appendTo(e)),a},x=function(t,e){d.ev.triggerHandler(i+t,e),d.st.callbacks&&(t=t.charAt(0).toLowerCase()+t.slice(1),d.st.callbacks[t]&&d.st.callbacks[t].apply(d,u.isArray(e)?e:[e]))},_=function(t){return t===e&&d.currTemplate.closeBtn||(d.currTemplate.closeBtn=u(d.st.closeMarkup.replace("%title%",d.st.tClose)),e=t),d.currTemplate.closeBtn},S=function(){u.magnificPopup.instance||((d=new t).init(),u.magnificPopup.instance=d)};t.prototype={constructor:t,init:function(){var t=navigator.appVersion;d.isLowIE=d.isIE8=document.all&&!document.addEventListener,d.isAndroid=/android/gi.test(t),d.isIOS=/iphone|ipad|ipod/gi.test(t),d.supportsTransition=function(){var t=document.createElement("p").style,e=["ms","O","Moz","Webkit"];if(void 0!==t.transition)return!0;for(;e.length;)if(e.pop()+"Transition"in t)return!0;return!1}(),d.probablyMobile=d.isAndroid||d.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),h=u(document),d.popupsCache={}},open:function(t){var e;if(!1===t.isObj){d.items=t.items.toArray(),d.index=0;var i,n=t.items;for(e=0;e<n.length;e++)if((i=n[e]).parsed&&(i=i.el[0]),i===t.el[0]){d.index=e;break}}else d.items=u.isArray(t.items)?t.items:[t.items],d.index=t.index||0;if(!d.isOpen){d.types=[],p="",t.mainEl&&t.mainEl.length?d.ev=t.mainEl.eq(0):d.ev=h,t.key?(d.popupsCache[t.key]||(d.popupsCache[t.key]={}),d.currTemplate=d.popupsCache[t.key]):d.currTemplate={},d.st=u.extend(!0,{},u.magnificPopup.defaults,t),d.fixedContentPos="auto"===d.st.fixedContentPos?!d.probablyMobile:d.st.fixedContentPos,d.st.modal&&(d.st.closeOnContentClick=!1,d.st.closeOnBgClick=!1,d.st.showCloseBtn=!1,d.st.enableEscapeKey=!1),d.bgOverlay||(d.bgOverlay=C("bg").on("click"+f,function(){d.close()}),d.wrap=C("wrap").attr("tabindex",-1).on("click"+f,function(t){d._checkIfClose(t.target)&&d.close()}),d.container=C("container",d.wrap)),d.contentContainer=C("content"),d.st.preloader&&(d.preloader=C("preloader",d.container,d.st.tLoading));var a=u.magnificPopup.modules;for(e=0;e<a.length;e++){var s=a[e];s=s.charAt(0).toUpperCase()+s.slice(1),d["init"+s].call(d)}x("BeforeOpen"),d.st.showCloseBtn&&(d.st.closeBtnInside?(b(m,function(t,e,i,n){i.close_replaceWith=_(n.type)}),p+=" mfp-close-btn-in"):d.wrap.append(_())),d.st.alignTop&&(p+=" mfp-align-top"),d.fixedContentPos?d.wrap.css({overflow:d.st.overflowY,overflowX:"hidden",overflowY:d.st.overflowY}):d.wrap.css({top:w.scrollTop(),position:"absolute"}),(!1===d.st.fixedBgPos||"auto"===d.st.fixedBgPos&&!d.fixedContentPos)&&d.bgOverlay.css({height:h.height(),position:"absolute"}),d.st.enableEscapeKey&&h.on("keyup"+f,function(t){27===t.keyCode&&d.close()}),w.on("resize"+f,function(){d.updateSize()}),d.st.closeOnContentClick||(p+=" mfp-auto-cursor"),p&&d.wrap.addClass(p);var o=d.wH=w.height(),r={};if(d.fixedContentPos&&d._hasScrollBar(o)){var l=d._getScrollbarSize();l&&(r.marginRight=l)}d.fixedContentPos&&(d.isIE7?u("body, html").css("overflow","hidden"):r.overflow="hidden");var c=d.st.mainClass;return d.isIE7&&(c+=" mfp-ie7"),c&&d._addClassToMFP(c),d.updateItemHTML(),x("BuildControls"),u("html").css(r),d.bgOverlay.add(d.wrap).prependTo(d.st.prependTo||u(document.body)),d._lastFocusedEl=document.activeElement,setTimeout(function(){d.content?(d._addClassToMFP(v),d._setFocus()):d.bgOverlay.addClass(v),h.on("focusin"+f,d._onFocusIn)},16),d.isOpen=!0,d.updateSize(o),x(g),t}d.updateItemHTML()},close:function(){d.isOpen&&(x(c),d.isOpen=!1,d.st.removalDelay&&!d.isLowIE&&d.supportsTransition?(d._addClassToMFP(s),setTimeout(function(){d._close()},d.st.removalDelay)):d._close())},_close:function(){x(l);var t=s+" "+v+" ";if(d.bgOverlay.detach(),d.wrap.detach(),d.container.empty(),d.st.mainClass&&(t+=d.st.mainClass+" "),d._removeClassFromMFP(t),d.fixedContentPos){var e={marginRight:""};d.isIE7?u("body, html").css("overflow",""):e.overflow="",u("html").css(e)}h.off("keyup.mfp focusin"+f),d.ev.off(f),d.wrap.attr("class","mfp-wrap").removeAttr("style"),d.bgOverlay.attr("class","mfp-bg"),d.container.attr("class","mfp-container"),!d.st.showCloseBtn||d.st.closeBtnInside&&!0!==d.currTemplate[d.currItem.type]||d.currTemplate.closeBtn&&d.currTemplate.closeBtn.detach(),d.st.autoFocusLast&&d._lastFocusedEl&&u(d._lastFocusedEl).focus(),d.currItem=null,d.content=null,d.currTemplate=null,d.prevHeight=0,x("AfterClose")},updateSize:function(t){if(d.isIOS){var e=document.documentElement.clientWidth/window.innerWidth,i=window.innerHeight*e;d.wrap.css("height",i),d.wH=i}else d.wH=t||w.height();d.fixedContentPos||d.wrap.css("height",d.wH),x("Resize")},updateItemHTML:function(){var t=d.items[d.index];d.contentContainer.detach(),d.content&&d.content.detach(),t.parsed||(t=d.parseEl(d.index));var e=t.type;if(x("BeforeChange",[d.currItem?d.currItem.type:"",e]),d.currItem=t,!d.currTemplate[e]){var i=!!d.st[e]&&d.st[e].markup;x("FirstMarkupParse",i),d.currTemplate[e]=!i||u(i)}a&&a!==t.type&&d.container.removeClass("mfp-"+a+"-holder");var n=d["get"+e.charAt(0).toUpperCase()+e.slice(1)](t,d.currTemplate[e]);d.appendContent(n,e),t.preloaded=!0,x(o,t),a=t.type,d.container.prepend(d.contentContainer),x("AfterChange")},appendContent:function(t,e){(d.content=t)?d.st.showCloseBtn&&d.st.closeBtnInside&&!0===d.currTemplate[e]?d.content.find(".mfp-close").length||d.content.append(_()):d.content=t:d.content="",x("BeforeAppend"),d.container.addClass("mfp-"+e+"-holder"),d.contentContainer.append(d.content)},parseEl:function(t){var e,i=d.items[t];if(i.tagName?i={el:u(i)}:(e=i.type,i={data:i,src:i.src}),i.el){for(var n=d.types,a=0;a<n.length;a++)if(i.el.hasClass("mfp-"+n[a])){e=n[a];break}i.src=i.el.attr("data-mfp-src"),i.src||(i.src=i.el.attr("href"))}return i.type=e||d.st.type||"inline",i.index=t,i.parsed=!0,d.items[t]=i,x("ElementParse",i),d.items[t]},addGroup:function(e,i){var t=function(t){t.mfpEl=this,d._openClick(t,e,i)};i||(i={});var n="click.magnificPopup";i.mainEl=e,i.items?(i.isObj=!0,e.off(n).on(n,t)):(i.isObj=!1,i.delegate?e.off(n).on(n,i.delegate,t):(i.items=e).off(n).on(n,t))},_openClick:function(t,e,i){if((void 0!==i.midClick?i.midClick:u.magnificPopup.defaults.midClick)||!(2===t.which||t.ctrlKey||t.metaKey||t.altKey||t.shiftKey)){var n=void 0!==i.disableOn?i.disableOn:u.magnificPopup.defaults.disableOn;if(n)if(u.isFunction(n)){if(!n.call(d))return!0}else if(w.width()<n)return!0;t.type&&(t.preventDefault(),d.isOpen&&t.stopPropagation()),i.el=u(t.mfpEl),i.delegate&&(i.items=e.find(i.delegate)),d.open(i)}},updateStatus:function(t,e){if(d.preloader){n!==t&&d.container.removeClass("mfp-s-"+n),e||"loading"!==t||(e=d.st.tLoading);var i={status:t,text:e};x("UpdateStatus",i),t=i.status,e=i.text,d.preloader.html(e),d.preloader.find("a").on("click",function(t){t.stopImmediatePropagation()}),d.container.addClass("mfp-s-"+t),n=t}},_checkIfClose:function(t){if(!u(t).hasClass(r)){var e=d.st.closeOnContentClick,i=d.st.closeOnBgClick;if(e&&i)return!0;if(!d.content||u(t).hasClass("mfp-close")||d.preloader&&t===d.preloader[0])return!0;if(t===d.content[0]||u.contains(d.content[0],t)){if(e)return!0}else if(i&&u.contains(document,t))return!0;return!1}},_addClassToMFP:function(t){d.bgOverlay.addClass(t),d.wrap.addClass(t)},_removeClassFromMFP:function(t){this.bgOverlay.removeClass(t),d.wrap.removeClass(t)},_hasScrollBar:function(t){return(d.isIE7?h.height():document.body.scrollHeight)>(t||w.height())},_setFocus:function(){(d.st.focus?d.content.find(d.st.focus).eq(0):d.wrap).focus()},_onFocusIn:function(t){if(t.target!==d.wrap[0]&&!u.contains(d.wrap[0],t.target))return d._setFocus(),!1},_parseMarkup:function(a,t,e){var s;e.data&&(t=u.extend(e.data,t)),x(m,[a,t,e]),u.each(t,function(t,e){if(void 0===e||!1===e)return!0;if(1<(s=t.split("_")).length){var i=a.find(f+"-"+s[0]);if(0<i.length){var n=s[1];"replaceWith"===n?i[0]!==e[0]&&i.replaceWith(e):"img"===n?i.is("img")?i.attr("src",e):i.replaceWith(u("<img>").attr("src",e).attr("class",i.attr("class"))):i.attr(s[1],e)}}else a.find(f+"-"+t).html(e)})},_getScrollbarSize:function(){if(void 0===d.scrollbarSize){var t=document.createElement("div");t.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(t),d.scrollbarSize=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return d.scrollbarSize}},u.magnificPopup={instance:null,proto:t.prototype,modules:[],open:function(t,e){return S(),(t=t?u.extend(!0,{},t):{}).isObj=!0,t.index=e||0,this.instance.open(t)},close:function(){return u.magnificPopup.instance&&u.magnificPopup.instance.close()},registerModule:function(t,e){e.options&&(u.magnificPopup.defaults[t]=e.options),u.extend(this.proto,e.proto),this.modules.push(t)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},u.fn.magnificPopup=function(t){S();var e=u(this);if("string"==typeof t)if("open"===t){var i,n=y?e.data("magnificPopup"):e[0].magnificPopup,a=parseInt(arguments[1],10)||0;n.items?i=n.items[a]:(i=e,n.delegate&&(i=i.find(n.delegate)),i=i.eq(a)),d._openClick({mfpEl:i},e,n)}else d.isOpen&&d[t].apply(d,Array.prototype.slice.call(arguments,1));else t=u.extend(!0,{},t),y?e.data("magnificPopup",t):e[0].magnificPopup=t,d.addGroup(e,t);return e};var P,I,A,E="inline",T=function(){A&&(I.after(A.addClass(P)).detach(),A=null)};u.magnificPopup.registerModule(E,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){d.types.push(E),b(l+"."+E,function(){T()})},getInline:function(t,e){if(T(),t.src){var i=d.st.inline,n=u(t.src);if(n.length){var a=n[0].parentNode;a&&a.tagName&&(I||(P=i.hiddenClass,I=C(P),P="mfp-"+P),A=n.after(I).detach().removeClass(P)),d.updateStatus("ready")}else d.updateStatus("error",i.tNotFound),n=u("<div>");return t.inlineElement=n}return d.updateStatus("ready"),d._parseMarkup(e,{},t),e}}});var O,D="ajax",k=function(){O&&u(document.body).removeClass(O)},N=function(){k(),d.req&&d.req.abort()};u.magnificPopup.registerModule(D,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){d.types.push(D),O=d.st.ajax.cursor,b(l+"."+D,N),b("BeforeChange."+D,N)},getAjax:function(a){O&&u(document.body).addClass(O),d.updateStatus("loading");var t=u.extend({url:a.src,success:function(t,e,i){var n={data:t,xhr:i};x("ParseAjax",n),d.appendContent(u(n.data),D),a.finished=!0,k(),d._setFocus(),setTimeout(function(){d.wrap.addClass(v)},16),d.updateStatus("ready"),x("AjaxContentAdded")},error:function(){k(),a.finished=a.loadError=!0,d.updateStatus("error",d.st.ajax.tError.replace("%url%",a.src))}},d.st.ajax.settings);return d.req=u.ajax(t),""}}});var M;u.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var t=d.st.image,e=".image";d.types.push("image"),b(g+e,function(){"image"===d.currItem.type&&t.cursor&&u(document.body).addClass(t.cursor)}),b(l+e,function(){t.cursor&&u(document.body).removeClass(t.cursor),w.off("resize"+f)}),b("Resize"+e,d.resizeImage),d.isLowIE&&b("AfterChange",d.resizeImage)},resizeImage:function(){var t=d.currItem;if(t&&t.img&&d.st.image.verticalFit){var e=0;d.isLowIE&&(e=parseInt(t.img.css("padding-top"),10)+parseInt(t.img.css("padding-bottom"),10)),t.img.css("max-height",d.wH-e)}},_onImageHasSize:function(t){t.img&&(t.hasSize=!0,M&&clearInterval(M),t.isCheckingImgSize=!1,x("ImageHasSize",t),t.imgHidden&&(d.content&&d.content.removeClass("mfp-loading"),t.imgHidden=!1))},findImageSize:function(e){var i=0,n=e.img[0],a=function(t){M&&clearInterval(M),M=setInterval(function(){0<n.naturalWidth?d._onImageHasSize(e):(200<i&&clearInterval(M),3===++i?a(10):40===i?a(50):100===i&&a(500))},t)};a(1)},getImage:function(t,e){var i=0,n=function(){t&&(t.img[0].complete?(t.img.off(".mfploader"),t===d.currItem&&(d._onImageHasSize(t),d.updateStatus("ready")),t.hasSize=!0,t.loaded=!0,x("ImageLoadComplete")):++i<200?setTimeout(n,100):a())},a=function(){t&&(t.img.off(".mfploader"),t===d.currItem&&(d._onImageHasSize(t),d.updateStatus("error",s.tError.replace("%url%",t.src))),t.hasSize=!0,t.loaded=!0,t.loadError=!0)},s=d.st.image,o=e.find(".mfp-img");if(o.length){var r=document.createElement("img");r.className="mfp-img",t.el&&t.el.find("img").length&&(r.alt=t.el.find("img").attr("alt")),t.img=u(r).on("load.mfploader",n).on("error.mfploader",a),r.src=t.src,o.is("img")&&(t.img=t.img.clone()),0<(r=t.img[0]).naturalWidth?t.hasSize=!0:r.width||(t.hasSize=!1)}return d._parseMarkup(e,{title:function(t){if(t.data&&void 0!==t.data.title)return t.data.title;var e=d.st.image.titleSrc;if(e){if(u.isFunction(e))return e.call(d,t);if(t.el)return t.el.attr(e)||""}return""}(t),img_replaceWith:t.img},t),d.resizeImage(),t.hasSize?(M&&clearInterval(M),t.loadError?(e.addClass("mfp-loading"),d.updateStatus("error",s.tError.replace("%url%",t.src))):(e.removeClass("mfp-loading"),d.updateStatus("ready"))):(d.updateStatus("loading"),t.loading=!0,t.hasSize||(t.imgHidden=!0,e.addClass("mfp-loading"),d.findImageSize(t))),e}}});var R;u.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(t){return t.is("img")?t:t.find("img")}},proto:{initZoom:function(){var t,s=d.st.zoom,e=".zoom";if(s.enabled&&d.supportsTransition){var i,n,a=s.duration,o=function(t){var e=t.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),i="all "+s.duration/1e3+"s "+s.easing,n={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},a="transition";return n["-webkit-"+a]=n["-moz-"+a]=n["-o-"+a]=n[a]=i,e.css(n),e},r=function(){d.content.css("visibility","visible")};b("BuildControls"+e,function(){if(d._allowZoom()){if(clearTimeout(i),d.content.css("visibility","hidden"),!(t=d._getItemToZoom()))return void r();(n=o(t)).css(d._getOffset()),d.wrap.append(n),i=setTimeout(function(){n.css(d._getOffset(!0)),i=setTimeout(function(){r(),setTimeout(function(){n.remove(),t=n=null,x("ZoomAnimationEnded")},16)},a)},16)}}),b(c+e,function(){if(d._allowZoom()){if(clearTimeout(i),d.st.removalDelay=a,!t){if(!(t=d._getItemToZoom()))return;n=o(t)}n.css(d._getOffset(!0)),d.wrap.append(n),d.content.css("visibility","hidden"),setTimeout(function(){n.css(d._getOffset())},16)}}),b(l+e,function(){d._allowZoom()&&(r(),n&&n.remove(),t=null)})}},_allowZoom:function(){return"image"===d.currItem.type},_getItemToZoom:function(){return!!d.currItem.hasSize&&d.currItem.img},_getOffset:function(t){var e,i=(e=t?d.currItem.img:d.st.zoom.opener(d.currItem.el||d.currItem)).offset(),n=parseInt(e.css("padding-top"),10),a=parseInt(e.css("padding-bottom"),10);i.top-=u(window).scrollTop()-n;var s={width:e.width(),height:(y?e.innerHeight():e[0].offsetHeight)-a-n};return void 0===R&&(R=void 0!==document.createElement("p").style.MozTransform),R?s["-moz-transform"]=s.transform="translate("+i.left+"px,"+i.top+"px)":(s.left=i.left,s.top=i.top),s}}});var B="iframe",F=function(t){if(d.currTemplate[B]){var e=d.currTemplate[B].find("iframe");e.length&&(t||(e[0].src="//about:blank"),d.isIE8&&e.css("display",t?"block":"none"))}};u.magnificPopup.registerModule(B,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){d.types.push(B),b("BeforeChange",function(t,e,i){e!==i&&(e===B?F():i===B&&F(!0))}),b(l+"."+B,function(){F()})},getIframe:function(t,e){var i=t.src,n=d.st.iframe;u.each(n.patterns,function(){if(-1<i.indexOf(this.index))return this.id&&(i="string"==typeof this.id?i.substr(i.lastIndexOf(this.id)+this.id.length,i.length):this.id.call(this,i)),i=this.src.replace("%id%",i),!1});var a={};return n.srcAction&&(a[n.srcAction]=i),d._parseMarkup(e,a,t),d.updateStatus("ready"),e}}});var L=function(t){var e=d.items.length;return e-1<t?t-e:t<0?e+t:t},z=function(t,e,i){return t.replace(/%curr%/gi,e+1).replace(/%total%/gi,i)};u.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var s=d.st.gallery,t=".mfp-gallery";if(d.direction=!0,!s||!s.enabled)return!1;p+=" mfp-gallery",b(g+t,function(){s.navigateByImgClick&&d.wrap.on("click"+t,".mfp-img",function(){if(1<d.items.length)return d.next(),!1}),h.on("keydown"+t,function(t){37===t.keyCode?d.prev():39===t.keyCode&&d.next()})}),b("UpdateStatus"+t,function(t,e){e.text&&(e.text=z(e.text,d.currItem.index,d.items.length))}),b(m+t,function(t,e,i,n){var a=d.items.length;i.counter=1<a?z(s.tCounter,n.index,a):""}),b("BuildControls"+t,function(){if(1<d.items.length&&s.arrows&&!d.arrowLeft){var t=s.arrowMarkup,e=d.arrowLeft=u(t.replace(/%title%/gi,s.tPrev).replace(/%dir%/gi,"left")).addClass(r),i=d.arrowRight=u(t.replace(/%title%/gi,s.tNext).replace(/%dir%/gi,"right")).addClass(r);e.click(function(){d.prev()}),i.click(function(){d.next()}),d.container.append(e.add(i))}}),b(o+t,function(){d._preloadTimeout&&clearTimeout(d._preloadTimeout),d._preloadTimeout=setTimeout(function(){d.preloadNearbyImages(),d._preloadTimeout=null},16)}),b(l+t,function(){h.off(t),d.wrap.off("click"+t),d.arrowRight=d.arrowLeft=null})},next:function(){d.direction=!0,d.index=L(d.index+1),d.updateItemHTML()},prev:function(){d.direction=!1,d.index=L(d.index-1),d.updateItemHTML()},goTo:function(t){d.direction=t>=d.index,d.index=t,d.updateItemHTML()},preloadNearbyImages:function(){var t,e=d.st.gallery.preload,i=Math.min(e[0],d.items.length),n=Math.min(e[1],d.items.length);for(t=1;t<=(d.direction?n:i);t++)d._preloadItem(d.index+t);for(t=1;t<=(d.direction?i:n);t++)d._preloadItem(d.index-t)},_preloadItem:function(t){if(t=L(t),!d.items[t].preloaded){var e=d.items[t];e.parsed||(e=d.parseEl(t)),x("LazyLoad",e),"image"===e.type&&(e.img=u('<img class="mfp-img" />').on("load.mfploader",function(){e.hasSize=!0}).on("error.mfploader",function(){e.hasSize=!0,e.loadError=!0,x("LazyLoadError",e)}).attr("src",e.src)),e.preloaded=!0}}}});var j="retina";u.magnificPopup.registerModule(j,{options:{replaceSrc:function(t){return t.src.replace(/\.\w+$/,function(t){return"@2x"+t})},ratio:1},proto:{initRetina:function(){if(1<window.devicePixelRatio){var i=d.st.retina,n=i.ratio;1<(n=isNaN(n)?n():n)&&(b("ImageHasSize."+j,function(t,e){e.img.css({"max-width":e.img[0].naturalWidth/n,width:"100%"})}),b("ElementParse."+j,function(t,e){e.src=i.replaceSrc(e,n)}))}}}}),S()}),function(h){"use strict";var p=null,m=null;!function(){var t,a,s,o,r,n,e=["webkit","moz","o","ms"],i=h.document.createElement("div"),l=-1;for(l=0;l<e.length&&!h.requestAnimationFrame;l++)h.requestAnimationFrame=h[e[l]+"RequestAnimationFrame"];void 0===i.nextElementSibling&&Object.defineProperty(h.Element.prototype,"nextElementSibling",{get:function(){for(var t=this.nextSibling;t;){if(1===t.nodeType)return t;t=t.nextSibling}return null}}),(t=h.Element.prototype).matches=t.matches||t.machesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector||function(t){return-1<Array.prototype.indexOf.call(this.parentElement.querySelectorAll(t),this)},Object.keys||(Object.keys=(r=Object.prototype.hasOwnProperty,a=!{toString:null}.propertyIsEnumerable("toString"),o=(s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(t){var e=[],i="",n=-1;if("object"!=typeof t&&("function"!=typeof t||null===t))throw new TypeError("Object.keys called on non-object");for(i in t)r.call(t,i)&&e.push(i);if(a)for(n=0;n<o;n++)r.call(t,s[n])&&e.push(s[n]);return e})),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),"function"!=typeof Object.create&&(Object.create=(n=function(){},function(t,e){if(t!==Object(t)&&null!==t)throw TypeError("Argument must be an object, or null");n.prototype=t||{};var i=new n;return n.prototype=null,void 0!==e&&Object.defineProperties(i,e),null===t&&(i.__proto__=null),i})),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){var e,i,n,a;if(null===this)throw new TypeError;if(0===(a=(n=Object(this)).length>>>0))return-1;if(e=0,1<arguments.length&&((e=Number(arguments[1]))!=e?e=0:0!==e&&e!==1/0&&e!==-1/0&&(e=(0<e||-1)*Math.floor(Math.abs(e)))),a<=e)return-1;for(i=0<=e?e:Math.max(a-Math.abs(e),0);i<a;i++)if(i in n&&n[i]===t)return i;return-1}),Function.prototype.bind||(Function.prototype.bind=function(t){var e,i,n,a;if("function"!=typeof this)throw new TypeError;return e=Array.prototype.slice.call(arguments,1),n=function(){},a=function(){return i.apply(this instanceof n?this:t,e.concat(Array.prototype.slice.call(arguments)))},(i=this).prototype&&(n.prototype=this.prototype),a.prototype=new n,a}),h.Element.prototype.dispatchEvent||(h.Element.prototype.dispatchEvent=function(t){try{return this.fireEvent("on"+t.type,t)}catch(t){}})}(),(p=function(t,e,i){var n=null,a=!1,s=null,o=null,r=null,l=[],c="",u=[],d=-1;if(r=i||h.document,(a=arguments[3])&&(a="boolean"==typeof a),"string"==typeof t)u=r.querySelectorAll(t);else if(t&&"object"==typeof t&&m.isElement(t,r))u=[t];else{if(!t||"object"!=typeof t||!t.length)throw new Error(p.messages.errorFactoryInvalidContainer());u=t}if(u.length<1)throw new Error(p.messages.errorFactoryContainerNotFound());for(d=0;(n=u[d])&&(!(0<d)||a);d++)n.id?c=n.id:(c="MixItUp"+m.randomHex(),n.id=c),p.instances[c]instanceof p.Mixer?(s=p.instances[c],(!e||e&&e.debug&&!1!==e.debug.showWarnings)&&console.warn(p.messages.warningFactoryPreexistingInstance())):((s=new p.Mixer).attach(n,r,c,e),p.instances[c]=s),o=new p.Facade(s),e&&e.debug&&e.debug.enable?l.push(s):l.push(o);return a?new p.Collection(l):l[0]}).use=function(t){p.Base.prototype.callActions.call(p,"beforeUse",arguments),"function"==typeof t&&"mixitup-extension"===t.TYPE?void 0===p.extensions[t.NAME]&&(t(p),p.extensions[t.NAME]=t):t.fn&&t.fn.jquery&&(p.libraries.$=t),p.Base.prototype.callActions.call(p,"afterUse",arguments)},p.instances={},p.extensions={},p.libraries={},m={hasClass:function(t,e){return!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))},addClass:function(t,e){this.hasClass(t,e)||(t.className+=t.className?" "+e:e)},removeClass:function(t,e){if(this.hasClass(t,e)){var i=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(i," ").trim()}},extend:function(e,t,i,n){var a=[],s="",o=-1;i=i||!1,n=n||!1;try{if(Array.isArray(t))for(o=0;o<t.length;o++)a.push(o);else t&&(a=Object.keys(t));for(o=0;o<a.length;o++)s=a[o],!i||"object"!=typeof t[s]||this.isElement(t[s])?e[s]=t[s]:(Array.isArray(t[s])?e[s]||(e[s]=[]):e[s]||(e[s]={}),this.extend(e[s],t[s],i,n))}catch(t){if(!n)throw t;this.handleExtendError(t,e)}return e},handleExtendError:function(t,e){var i=null,n="",a="",s="",o="",r="",l=-1,c=-1;if(t instanceof TypeError&&(i=/property "?(\w*)"?[,:] object/i.exec(t.message))){for(r in n=i[1],e){for(c=0;c<n.length&&n.charAt(c)===r.charAt(c);)c++;l<c&&(l=c,o=r)}throw 1<l&&(s=p.messages.errorConfigInvalidPropertySuggestion({probableMatch:o})),a=p.messages.errorConfigInvalidProperty({erroneous:n,suggestion:s}),new TypeError(a)}throw t},template:function(n){for(var t=/\${([\w]*)}/g,a={},e=null;e=t.exec(n);)a[e[1]]=new RegExp("\\${"+e[1]+"}","g");return function(t){var e="",i=n;for(e in t=t||{},a)i=i.replace(a[e],void 0!==t[e]?t[e]:"");return i}},on:function(t,e,i,n){t&&(t.addEventListener?t.addEventListener(e,i,n):t.attachEvent&&(t["e"+e+i]=i,t[e+i]=function(){t["e"+e+i](h.event)},t.attachEvent("on"+e,t[e+i])))},off:function(t,e,i){t&&(t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent&&(t.detachEvent("on"+e,t[e+i]),t[e+i]=null))},getCustomEvent:function(t,e,i){var n=null;return i=i||h.document,"function"==typeof h.CustomEvent?n=new h.CustomEvent(t,{detail:e,bubbles:!0,cancelable:!0}):"function"==typeof i.createEvent?(n=i.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,e):((n=i.createEventObject()).type=t,n.returnValue=!1,n.cancelBubble=!1,n.detail=e),n},getOriginalEvent:function(t){return t.touches&&t.touches.length?t.touches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t},index:function(t,e){for(var i=0;null!==(t=t.previousElementSibling);)e&&!t.matches(e)||++i;return i},camelCase:function(t){return t.toLowerCase().replace(/([_-][a-z])/g,function(t){return t.toUpperCase().replace(/[_-]/,"")})},pascalCase:function(t){return(t=this.camelCase(t)).charAt(0).toUpperCase()+t.slice(1)},dashCase:function(t){return t.replace(/([A-Z])/g,"-$1").replace(/^-/,"").toLowerCase()},isElement:function(t,e){return e=e||h.document,!!(h.HTMLElement&&t instanceof h.HTMLElement)||(!!(e.defaultView&&e.defaultView.HTMLElement&&t instanceof e.defaultView.HTMLElement)||null!==t&&1===t.nodeType&&"string"==typeof t.nodeName)},createElement:function(t,e){var i=null,n=null;for(i=(e=e||h.document).createDocumentFragment(),(n=e.createElement("div")).innerHTML=t.trim();n.firstChild;)i.appendChild(n.firstChild);return i},removeWhitespace:function(t){for(var e;t&&"#text"===t.nodeName;)t=(e=t).previousSibling,e.parentElement&&e.parentElement.removeChild(e)},isEqualArray:function(t,e){var i=t.length;if(i!==e.length)return!1;for(;i--;)if(t[i]!==e[i])return!1;return!0},deepEquals:function(t,e){var i;if("object"==typeof t&&t&&"object"==typeof e&&e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(i in t)if(!e.hasOwnProperty(i)||!this.deepEquals(t[i],e[i]))return!1}else if(t!==e)return!1;return!0},arrayShuffle:function(t){for(var e=t.slice(),i=e.length,n=i,a=-1,s=[];n--;)a=~~(Math.random()*i),s=e[n],e[n]=e[a],e[a]=s;return e},arrayFromList:function(e){var i,n;try{return Array.prototype.slice.call(e)}catch(t){for(i=[],n=0;n<e.length;n++)i.push(e[n]);return i}},debounce:function(a,s,o){var r;return function(){var t,e=this,i=arguments,n=o&&!r;t=function(){r=null,o||a.apply(e,i)},clearTimeout(r),r=setTimeout(t,s),n&&a.apply(e,i)}},position:function(t){for(var e=0,i=0,n=t;t;)e-=t.scrollLeft,i-=t.scrollTop,t===n&&(e+=t.offsetLeft,i+=t.offsetTop,n=t.offsetParent),t=t.parentElement;return{x:e,y:i}},getHypotenuse:function(t,e){var i=t.x-e.x,n=t.y-e.y;return i=i<0?-1*i:i,n=n<0?-1*n:n,Math.sqrt(Math.pow(i,2)+Math.pow(n,2))},getIntersectionRatio:function(t,e){var i,n=t.width*t.height;return i=Math.max(0,Math.min(t.left+t.width,e.left+e.width)-Math.max(t.left,e.left)),Math.max(0,Math.min(t.top+t.height,e.top+e.height)-Math.max(t.top,e.top))*i/n},closestParent:function(t,e,i,n){var a=t.parentNode;if(n=n||h.document,i&&t.matches(e))return t;for(;a&&a!=n.body;){if(a.matches&&a.matches(e))return a;if(!a.parentNode)return null;a=a.parentNode}return null},children:function(t,e,i){var n=[],a="";return i=i||h.doc,t&&(t.id||(a="Temp"+this.randomHexKey(),t.id=a),n=i.querySelectorAll("#"+t.id+" > "+e),a&&t.removeAttribute("id")),n},clean:function(t){var e=[],i=-1;for(i=0;i<t.length;i++)""!==t[i]&&e.push(t[i]);return e},defer:function(t){var e=null,i=null,n=null;return i=new this.Deferred,p.features.has.promises?i.promise=new Promise(function(t,e){i.resolve=t,i.reject=e}):(n=h.jQuery||t.$)&&"function"==typeof n.Deferred?(e=n.Deferred(),i.promise=e.promise(),i.resolve=e.resolve,i.reject=e.reject):h.console&&console.warn(p.messages.warningNoPromiseImplementation()),i},all:function(t,e){var i=null;return p.features.has.promises?Promise.all(t):(i=h.jQuery||e.$)&&"function"==typeof i.when?i.when.apply(i,t).done(function(){return arguments}):(h.console&&console.warn(p.messages.warningNoPromiseImplementation()),[])},getPrefix:function(t,e,i){var n=-1,a="";if(m.dashCase(e)in t.style)return"";for(n=0;a=i[n];n++)if(a+e in t.style)return a.toLowerCase();return"unsupported"},randomHex:function(){return("00000"+(16777216*Math.random()<<0).toString(16)).substr(-6).toUpperCase()},getDocumentState:function(t){return t="object"==typeof t.body?t:h.document,{scrollTop:h.pageYOffset,scrollLeft:h.pageXOffset,docHeight:t.documentElement.scrollHeight,docWidth:t.documentElement.scrollWidth,viewportHeight:t.documentElement.clientHeight,viewportWidth:t.documentElement.clientWidth}},bind:function(t,e){return function(){return e.apply(t,arguments)}},isVisible:function(t){var e;return!!t.offsetParent||"fixed"===(e=h.getComputedStyle(t)).position&&"hidden"!==e.visibility&&"0"!==e.opacity},seal:function(t){"function"==typeof Object.seal&&Object.seal(t)},freeze:function(t){"function"==typeof Object.freeze&&Object.freeze(t)},compareVersions:function(t,e){var i=t.split("."),n=e.split("."),a=-1,s=-1,o=-1;for(o=0;o<i.length;o++){if(a=parseInt(i[o].replace(/[^\d.]/g,"")),(s=parseInt(n[o].replace(/[^\d.]/g,"")||0))<a)return!1;if(a<s)return!0}return!0},Deferred:function(){this.promise=null,this.resolve=null,this.reject=null,this.id=m.randomHex()},isEmptyObject:function(t){var e="";if("function"==typeof Object.keys)return 0===Object.keys(t).length;for(e in t)if(t.hasOwnProperty(e))return!1;return!0},getClassname:function(t,e,i){var n="";return(n+=t.block).length&&(n+=t.delineatorElement),n+=t["element"+this.pascalCase(e)],i?(n.length&&(n+=t.delineatorModifier),n+=i):n},getProperty:function(t,e){var i,n=e.split("."),a="",s=0;if(!e)return t;for(i=function(t){return t?t[a]:null};s<n.length;)a=n[s],t=i(t),s++;return void 0!==t?t:null}},p.h=m,p.Base=function(){},p.Base.prototype={constructor:p.Base,callActions:function(t,e){var i=this.constructor.actions[t],n="";if(i&&!m.isEmptyObject(i))for(n in i)i[n].apply(this,e)},callFilters:function(t,e,i){var n=this.constructor.filters[t],a=e,s="";if(!n||m.isEmptyObject(n))return a;for(s in i=i||[],n)(i=m.arrayFromList(i)).unshift(a),a=n[s].apply(this,i);return a}},p.BaseStatic=function(){this.actions={},this.filters={},this.extend=function(t){m.extend(this.prototype,t)},this.registerAction=function(t,e,i){(this.actions[t]=this.actions[t]||{})[e]=i},this.registerFilter=function(t,e,i){(this.filters[t]=this.filters[t]||{})[e]=i}},p.Features=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.boxSizingPrefix="",this.transformPrefix="",this.transitionPrefix="",this.boxSizingPrefix="",this.transformProp="",this.transformRule="",this.transitionProp="",this.perspectiveProp="",this.perspectiveOriginProp="",this.has=new p.Has,this.canary=null,this.BOX_SIZING_PROP="boxSizing",this.TRANSITION_PROP="transition",this.TRANSFORM_PROP="transform",this.PERSPECTIVE_PROP="perspective",this.PERSPECTIVE_ORIGIN_PROP="perspectiveOrigin",this.VENDORS=["Webkit","moz","O","ms"],this.TWEENABLE=["opacity","width","height","marginRight","marginBottom","x","y","scale","translateX","translateY","translateZ","rotateX","rotateY","rotateZ"],this.callActions("afterConstruct")},p.BaseStatic.call(p.Features),p.Features.prototype=Object.create(p.Base.prototype),m.extend(p.Features.prototype,{constructor:p.Features,init:function(){var t=this;t.callActions("beforeInit",arguments),t.canary=document.createElement("div"),t.setPrefixes(),t.runTests(),t.callActions("beforeInit",arguments)},runTests:function(){var t=this;t.callActions("beforeRunTests",arguments),t.has.promises="function"==typeof h.Promise,t.has.transitions="unsupported"!==t.transitionPrefix,t.callActions("afterRunTests",arguments),m.freeze(t.has)},setPrefixes:function(){var t=this;t.callActions("beforeSetPrefixes",arguments),t.transitionPrefix=m.getPrefix(t.canary,"Transition",t.VENDORS),t.transformPrefix=m.getPrefix(t.canary,"Transform",t.VENDORS),t.boxSizingPrefix=m.getPrefix(t.canary,"BoxSizing",t.VENDORS),t.boxSizingProp=t.boxSizingPrefix?t.boxSizingPrefix+m.pascalCase(t.BOX_SIZING_PROP):t.BOX_SIZING_PROP,t.transitionProp=t.transitionPrefix?t.transitionPrefix+m.pascalCase(t.TRANSITION_PROP):t.TRANSITION_PROP,t.transformProp=t.transformPrefix?t.transformPrefix+m.pascalCase(t.TRANSFORM_PROP):t.TRANSFORM_PROP,t.transformRule=t.transformPrefix?"-"+t.transformPrefix+"-"+t.TRANSFORM_PROP:t.TRANSFORM_PROP,t.perspectiveProp=t.transformPrefix?t.transformPrefix+m.pascalCase(t.PERSPECTIVE_PROP):t.PERSPECTIVE_PROP,t.perspectiveOriginProp=t.transformPrefix?t.transformPrefix+m.pascalCase(t.PERSPECTIVE_ORIGIN_PROP):t.PERSPECTIVE_ORIGIN_PROP,t.callActions("afterSetPrefixes",arguments)}}),p.Has=function(){this.transitions=!1,this.promises=!1,m.seal(this)},p.features=new p.Features,p.features.init(),p.ConfigAnimation=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.enable=!0,this.effects="fade scale",this.effectsIn="",this.effectsOut="",this.duration=600,this.easing="ease",this.applyPerspective=!0,this.perspectiveDistance="3000px",this.perspectiveOrigin="50% 50%",this.queue=!0,this.queueLimit=3,this.animateResizeContainer=!0,this.animateResizeTargets=!1,this.staggerSequence=null,this.reverseOut=!1,this.nudge=!0,this.clampHeight=!0,this.clampWidth=!0,this.callActions("afterConstruct"),m.seal(this)},p.BaseStatic.call(p.ConfigAnimation),p.ConfigAnimation.prototype=Object.create(p.Base.prototype),p.ConfigAnimation.prototype.constructor=p.ConfigAnimation,p.ConfigBehavior=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.liveSort=!1,this.callActions("afterConstruct"),m.seal(this)},p.BaseStatic.call(p.ConfigBehavior),p.ConfigBehavior.prototype=Object.create(p.Base.prototype),p.ConfigBehavior.prototype.constructor=p.ConfigBehavior,p.ConfigCallbacks=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.onMixStart=null,this.onMixBusy=null,this.onMixEnd=null,this.onMixFail=null,this.onMixClick=null,this.callActions("afterConstruct"),m.seal(this)},p.BaseStatic.call(p.ConfigCallbacks),p.ConfigCallbacks.prototype=Object.create(p.Base.prototype),p.ConfigCallbacks.prototype.constructor=p.ConfigCallbacks,p.ConfigControls=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.enable=!0,this.live=!1,this.scope="global",this.toggleLogic="or",this.toggleDefault="all",this.callActions("afterConstruct"),m.seal(this)},p.BaseStatic.call(p.ConfigControls),p.ConfigControls.prototype=Object.create(p.Base.prototype),p.ConfigControls.prototype.constructor=p.ConfigControls,p.ConfigClassNames=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.block="mixitup",this.elementContainer="container",this.elementFilter="control",this.elementSort="control",this.elementMultimix="control",this.elementToggle="control",this.modifierActive="active",this.modifierDisabled="disabled",this.modifierFailed="failed",this.delineatorElement="-",this.delineatorModifier="-",this.callActions("afterConstruct"),m.seal(this)},p.BaseStatic.call(p.ConfigClassNames),p.ConfigClassNames.prototype=Object.create(p.Base.prototype),p.ConfigClassNames.prototype.constructor=p.ConfigClassNames,p.ConfigData=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.uidKey="",this.dirtyCheck=!1,this.callActions("afterConstruct"),m.seal(this)},p.BaseStatic.call(p.ConfigData),p.ConfigData.prototype=Object.create(p.Base.prototype),p.ConfigData.prototype.constructor=p.ConfigData,p.ConfigDebug=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.enable=!1,this.showWarnings=!0,this.fauxAsync=!1,this.callActions("afterConstruct"),m.seal(this)},p.BaseStatic.call(p.ConfigDebug),p.ConfigDebug.prototype=Object.create(p.Base.prototype),p.ConfigDebug.prototype.constructor=p.ConfigDebug,p.ConfigLayout=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.allowNestedTargets=!0,this.containerClassName="",this.siblingBefore=null,this.siblingAfter=null,this.callActions("afterConstruct"),m.seal(this)},p.BaseStatic.call(p.ConfigLayout),p.ConfigLayout.prototype=Object.create(p.Base.prototype),p.ConfigLayout.prototype.constructor=p.ConfigLayout,p.ConfigLoad=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.filter="all",this.sort="default:asc",this.dataset=null,this.callActions("afterConstruct"),m.seal(this)},p.BaseStatic.call(p.ConfigLoad),p.ConfigLoad.prototype=Object.create(p.Base.prototype),p.ConfigLoad.prototype.constructor=p.ConfigLoad,p.ConfigSelectors=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.target=".mix",this.control="",this.callActions("afterConstruct"),m.seal(this)},p.BaseStatic.call(p.ConfigSelectors),p.ConfigSelectors.prototype=Object.create(p.Base.prototype),p.ConfigSelectors.prototype.constructor=p.ConfigSelectors,p.ConfigRender=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.target=null,this.callActions("afterConstruct"),m.seal(this)},p.BaseStatic.call(p.ConfigRender),p.ConfigRender.prototype=Object.create(p.Base.prototype),p.ConfigRender.prototype.constructor=p.ConfigRender,p.ConfigTemplates=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.callActions("afterConstruct"),m.seal(this)},p.BaseStatic.call(p.ConfigTemplates),p.ConfigTemplates.prototype=Object.create(p.Base.prototype),p.ConfigTemplates.prototype.constructor=p.ConfigTemplates,p.Config=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.animation=new p.ConfigAnimation,this.behavior=new p.ConfigBehavior,this.callbacks=new p.ConfigCallbacks,this.controls=new p.ConfigControls,this.classNames=new p.ConfigClassNames,this.data=new p.ConfigData,this.debug=new p.ConfigDebug,this.layout=new p.ConfigLayout,this.load=new p.ConfigLoad,this.selectors=new p.ConfigSelectors,this.render=new p.ConfigRender,this.templates=new p.ConfigTemplates,this.callActions("afterConstruct"),m.seal(this)},p.BaseStatic.call(p.Config),p.Config.prototype=Object.create(p.Base.prototype),p.Config.prototype.constructor=p.Config,p.MixerDom=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.document=null,this.body=null,this.container=null,this.parent=null,this.targets=[],this.callActions("afterConstruct"),m.seal(this)},p.BaseStatic.call(p.MixerDom),p.MixerDom.prototype=Object.create(p.Base.prototype),p.MixerDom.prototype.constructor=p.MixerDom,p.UiClassNames=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.base="",this.active="",this.disabled="",this.callActions("afterConstruct"),m.seal(this)},p.BaseStatic.call(p.UiClassNames),p.UiClassNames.prototype=Object.create(p.Base.prototype),p.UiClassNames.prototype.constructor=p.UiClassNames,p.CommandDataset=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.dataset=null,this.callActions("afterConstruct"),m.seal(this)},p.BaseStatic.call(p.CommandDataset),p.CommandDataset.prototype=Object.create(p.Base.prototype),p.CommandDataset.prototype.constructor=p.CommandDataset,p.CommandMultimix=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.filter=null,this.sort=null,this.insert=null,this.remove=null,this.changeLayout=null,this.callActions("afterConstruct"),m.seal(this)},p.BaseStatic.call(p.CommandMultimix),p.CommandMultimix.prototype=Object.create(p.Base.prototype),p.CommandMultimix.prototype.constructor=p.CommandMultimix,p.CommandFilter=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.selector="",this.collection=null,this.action="show",this.callActions("afterConstruct"),m.seal(this)},p.BaseStatic.call(p.CommandFilter),p.CommandFilter.prototype=Object.create(p.Base.prototype),p.CommandFilter.prototype.constructor=p.CommandFilter,p.CommandSort=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.sortString="",this.attribute="",this.order="asc",this.collection=null,this.next=null,this.callActions("afterConstruct"),m.seal(this)},p.BaseStatic.call(p.CommandSort),p.CommandSort.prototype=Object.create(p.Base.prototype),p.CommandSort.prototype.constructor=p.CommandSort,p.CommandInsert=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.index=0,this.collection=[],this.position="before",this.sibling=null,this.callActions("afterConstruct"),m.seal(this)},p.BaseStatic.call(p.CommandInsert),p.CommandInsert.prototype=Object.create(p.Base.prototype),p.CommandInsert.prototype.constructor=p.CommandInsert,p.CommandRemove=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.targets=[],this.collection=[],this.callActions("afterConstruct"),m.seal(this)},p.BaseStatic.call(p.CommandRemove),p.CommandRemove.prototype=Object.create(p.Base.prototype),p.CommandRemove.prototype.constructor=p.CommandRemove,p.CommandChangeLayout=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.containerClassName="",this.callActions("afterConstruct"),m.seal(this)},p.BaseStatic.call(p.CommandChangeLayout),p.CommandChangeLayout.prototype=Object.create(p.Base.prototype),p.CommandChangeLayout.prototype.constructor=p.CommandChangeLayout,p.ControlDefinition=function(t,e,i,n){p.Base.call(this),this.callActions("beforeConstruct"),this.type=t,this.selector=e,this.live=i||!1,this.parent=n||"",this.callActions("afterConstruct"),m.freeze(this),m.seal(this)},p.BaseStatic.call(p.ControlDefinition),p.ControlDefinition.prototype=Object.create(p.Base.prototype),p.ControlDefinition.prototype.constructor=p.ControlDefinition,p.controlDefinitions=[],p.controlDefinitions.push(new p.ControlDefinition("multimix","[data-filter][data-sort]")),p.controlDefinitions.push(new p.ControlDefinition("filter","[data-filter]")),p.controlDefinitions.push(new p.ControlDefinition("sort","[data-sort]")),p.controlDefinitions.push(new p.ControlDefinition("toggle","[data-toggle]")),p.Control=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.el=null,this.selector="",this.bound=[],this.pending=-1,this.type="",this.status="inactive",this.filter="",this.sort="",this.canDisable=!1,this.handler=null,this.classNames=new p.UiClassNames,this.callActions("afterConstruct"),m.seal(this)},p.BaseStatic.call(p.Control),p.Control.prototype=Object.create(p.Base.prototype),m.extend(p.Control.prototype,{constructor:p.Control,init:function(t,e,i){var n=this;if(this.callActions("beforeInit",arguments),n.el=t,n.type=e,n.selector=i,n.selector)n.status="live";else switch(n.canDisable="boolean"==typeof n.el.disable,n.type){case"filter":n.filter=n.el.getAttribute("data-filter");break;case"toggle":n.filter=n.el.getAttribute("data-toggle");break;case"sort":n.sort=n.el.getAttribute("data-sort");break;case"multimix":n.filter=n.el.getAttribute("data-filter"),n.sort=n.el.getAttribute("data-sort")}n.bindClick(),p.controls.push(n),this.callActions("afterInit",arguments)},isBound:function(t){var e;return this.callActions("beforeIsBound",arguments),e=-1<this.bound.indexOf(t),this.callFilters("afterIsBound",e,arguments)},addBinding:function(t){this.callActions("beforeAddBinding",arguments),this.isBound()||this.bound.push(t),this.callActions("afterAddBinding",arguments)},removeBinding:function(t){var e=this,i=-1;this.callActions("beforeRemoveBinding",arguments),-1<(i=e.bound.indexOf(t))&&e.bound.splice(i,1),e.bound.length<1&&(e.unbindClick(),i=p.controls.indexOf(e),p.controls.splice(i,1),"active"===e.status&&e.renderStatus(e.el,"inactive")),this.callActions("afterRemoveBinding",arguments)},bindClick:function(){var e=this;this.callActions("beforeBindClick",arguments),e.handler=function(t){e.handleClick(t)},m.on(e.el,"click",e.handler),this.callActions("afterBindClick",arguments)},unbindClick:function(){this.callActions("beforeUnbindClick",arguments),m.off(this.el,"click",this.handler),this.handler=null,this.callActions("afterUnbindClick",arguments)},handleClick:function(t){var e=this,i=null,n=null,a=!1,s={},o=null,r=[],l=-1;if(this.callActions("beforeHandleClick",arguments),this.pending=0,n=e.bound[0],i=e.selector?m.closestParent(t.target,n.config.selectors.control+e.selector,!0,n.dom.document):e.el){switch(e.type){case"filter":s.filter=e.filter||i.getAttribute("data-filter");break;case"sort":s.sort=e.sort||i.getAttribute("data-sort");break;case"multimix":s.filter=e.filter||i.getAttribute("data-filter"),s.sort=e.sort||i.getAttribute("data-sort");break;case"toggle":s.filter=e.filter||i.getAttribute("data-toggle"),a="live"===e.status?m.hasClass(i,e.classNames.active):"active"===e.status}for(l=0;l<e.bound.length;l++)o=new p.CommandMultimix,m.extend(o,s),r.push(o);for(r=e.callFilters("commandsHandleClick",r,arguments),e.pending=e.bound.length,l=0;n=e.bound[l];l++)(s=r[l])&&(n.lastClicked||(n.lastClicked=i),p.events.fire("mixClick",n.dom.container,{state:n.state,instance:n,originalEvent:t,control:n.lastClicked},n.dom.document),"function"==typeof n.config.callbacks.onMixClick&&!1===n.config.callbacks.onMixClick.call(n.lastClicked,n.state,t,n)||("toggle"===e.type?a?n.toggleOff(s.filter):n.toggleOn(s.filter):n.multimix(s)));this.callActions("afterHandleClick",arguments)}else e.callActions("afterHandleClick",arguments)},update:function(t,e){var i=this,n=new p.CommandMultimix;i.callActions("beforeUpdate",arguments),i.pending--,i.pending=Math.max(0,i.pending),0<i.pending||("live"===i.status?i.updateLive(t,e):(n.sort=i.sort,n.filter=i.filter,i.callFilters("actionsUpdate",n,arguments),i.parseStatusChange(i.el,t,n,e)),i.callActions("afterUpdate",arguments))},updateLive:function(t,e){var i,n=this,a=null,s=null,o=-1;if(n.callActions("beforeUpdateLive",arguments),n.el){for(i=n.el.querySelectorAll(n.selector),o=0;s=i[o];o++){switch(a=new p.CommandMultimix,n.type){case"filter":a.filter=s.getAttribute("data-filter");break;case"sort":a.sort=s.getAttribute("data-sort");break;case"multimix":a.filter=s.getAttribute("data-filter"),a.sort=s.getAttribute("data-sort");break;case"toggle":a.filter=s.getAttribute("data-toggle")}a=n.callFilters("actionsUpdateLive",a,arguments),n.parseStatusChange(s,t,a,e)}n.callActions("afterUpdateLive",arguments)}},parseStatusChange:function(t,e,i,n){var a=this,s="",o=-1;switch(a.callActions("beforeParseStatusChange",arguments),a.type){case"filter":e.filter===i.filter?a.renderStatus(t,"active"):a.renderStatus(t,"inactive");break;case"multimix":e.sort===i.sort&&e.filter===i.filter?a.renderStatus(t,"active"):a.renderStatus(t,"inactive");break;case"sort":e.sort.match(/:asc/g)&&(s=e.sort.replace(/:asc/g,"")),e.sort===i.sort||s===i.sort?a.renderStatus(t,"active"):a.renderStatus(t,"inactive");break;case"toggle":for(n.length<1&&a.renderStatus(t,"inactive"),e.filter===i.filter&&a.renderStatus(t,"active"),o=0;o<n.length;o++){if(n[o]===i.filter){a.renderStatus(t,"active");break}a.renderStatus(t,"inactive")}}a.callActions("afterParseStatusChange",arguments)},renderStatus:function(t,e){var i=this;switch(i.callActions("beforeRenderStatus",arguments),e){case"active":m.addClass(t,i.classNames.active),m.removeClass(t,i.classNames.disabled),i.canDisable&&(i.el.disabled=!1);break;case"inactive":m.removeClass(t,i.classNames.active),m.removeClass(t,i.classNames.disabled),i.canDisable&&(i.el.disabled=!1);break;case"disabled":i.canDisable&&(i.el.disabled=!0),m.addClass(t,i.classNames.disabled),m.removeClass(t,i.classNames.active)}"live"!==i.status&&(i.status=e),i.callActions("afterRenderStatus",arguments)}}),p.controls=[],p.StyleData=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.x=0,this.y=0,this.top=0,this.right=0,this.bottom=0,this.left=0,this.width=0,this.height=0,this.marginRight=0,this.marginBottom=0,this.opacity=0,this.scale=new p.TransformData,this.translateX=new p.TransformData,this.translateY=new p.TransformData,this.translateZ=new p.TransformData,this.rotateX=new p.TransformData,this.rotateY=new p.TransformData,this.rotateZ=new p.TransformData,this.callActions("afterConstruct"),m.seal(this)},p.BaseStatic.call(p.StyleData),p.StyleData.prototype=Object.create(p.Base.prototype),p.StyleData.prototype.constructor=p.StyleData,p.TransformData=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.value=0,this.unit="",this.callActions("afterConstruct"),m.seal(this)},p.BaseStatic.call(p.TransformData),p.TransformData.prototype=Object.create(p.Base.prototype),p.TransformData.prototype.constructor=p.TransformData,p.TransformDefaults=function(){p.StyleData.apply(this),this.callActions("beforeConstruct"),this.scale.value=.01,this.scale.unit="",this.translateX.value=20,this.translateX.unit="px",this.translateY.value=20,this.translateY.unit="px",this.translateZ.value=20,this.translateZ.unit="px",this.rotateX.value=90,this.rotateX.unit="deg",this.rotateY.value=90,this.rotateY.unit="deg",this.rotateX.value=90,this.rotateX.unit="deg",this.rotateZ.value=180,this.rotateZ.unit="deg",this.callActions("afterConstruct"),m.seal(this)},p.BaseStatic.call(p.TransformDefaults),p.TransformDefaults.prototype=Object.create(p.StyleData.prototype),p.TransformDefaults.prototype.constructor=p.TransformDefaults,p.transformDefaults=new p.TransformDefaults,p.EventDetail=function(){this.state=null,this.futureState=null,this.instance=null,this.originalEvent=null},p.Events=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.mixStart=null,this.mixBusy=null,this.mixEnd=null,this.mixFail=null,this.mixClick=null,this.callActions("afterConstruct"),m.seal(this)},p.BaseStatic.call(p.Events),p.Events.prototype=Object.create(p.Base.prototype),p.Events.prototype.constructor=p.Events,p.Events.prototype.fire=function(t,e,i,n){var a,s=new p.EventDetail;if(this.callActions("beforeFire",arguments),void 0===this[t])throw new Error('Event type "'+t+'" not found.');s.state=new p.State,m.extend(s.state,i.state),i.futureState&&(s.futureState=new p.State,m.extend(s.futureState,i.futureState)),s.instance=i.instance,i.originalEvent&&(s.originalEvent=i.originalEvent),a=m.getCustomEvent(t,s,n),this.callFilters("eventFire",a,arguments),e.dispatchEvent(a)},p.events=new p.Events,p.QueueItem=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.args=[],this.instruction=null,this.triggerElement=null,this.deferred=null,this.isToggling=!1,this.callActions("afterConstruct"),m.seal(this)},p.BaseStatic.call(p.QueueItem),p.QueueItem.prototype=Object.create(p.Base.prototype),p.QueueItem.prototype.constructor=p.QueueItem,p.Mixer=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.config=new p.Config,this.id="",this.isBusy=!1,this.isToggling=!1,this.incPadding=!0,this.controls=[],this.targets=[],this.origOrder=[],this.cache={},this.toggleArray=[],this.targetsMoved=0,this.targetsImmovable=0,this.targetsBound=0,this.targetsDone=0,this.staggerDuration=0,this.effectsIn=null,this.effectsOut=null,this.transformIn=[],this.transformOut=[],this.queue=[],this.state=null,this.lastOperation=null,this.lastClicked=null,this.userCallback=null,this.userDeferred=null,this.dom=new p.MixerDom,this.callActions("afterConstruct"),m.seal(this)},p.BaseStatic.call(p.Mixer),p.Mixer.prototype=Object.create(p.Base.prototype),m.extend(p.Mixer.prototype,{constructor:p.Mixer,attach:function(t,e,i,n){var a=this,s=null,o=-1;for(a.callActions("beforeAttach",arguments),a.id=i,n&&m.extend(a.config,n,!0,!0),a.sanitizeConfig(),a.cacheDom(t,e),a.config.layout.containerClassName&&m.addClass(a.dom.container,a.config.layout.containerClassName),p.features.has.transitions||(a.config.animation.enable=!1),void 0===h.console&&(a.config.debug.showWarnings=!1),a.config.data.uidKey&&(a.config.controls.enable=!1),a.indexTargets(),a.state=a.getInitialState(),o=0;s=a.lastOperation.toHide[o];o++)s.hide();a.config.controls.enable&&(a.initControls(),a.buildToggleArray(null,a.state),a.updateControls({filter:a.state.activeFilter,sort:a.state.activeSort})),a.parseEffects(),a.callActions("afterAttach",arguments)},sanitizeConfig:function(){var t=this;t.callActions("beforeSanitizeConfig",arguments),t.config.controls.scope=t.config.controls.scope.toLowerCase().trim(),t.config.controls.toggleLogic=t.config.controls.toggleLogic.toLowerCase().trim(),t.config.controls.toggleDefault=t.config.controls.toggleDefault.toLowerCase().trim(),t.config.animation.effects=t.config.animation.effects.trim(),t.callActions("afterSanitizeConfig",arguments)},getInitialState:function(){var t=this,e=new p.State,i=new p.Operation;if(t.callActions("beforeGetInitialState",arguments),e.activeContainerClassName=t.config.layout.containerClassName,t.config.load.dataset){if(!t.config.data.uidKey||"string"!=typeof t.config.data.uidKey)throw new TypeError(p.messages.errorConfigDataUidKeyNotSet());i.startDataset=i.newDataset=e.activeDataset=t.config.load.dataset.slice(),i.startContainerClassName=i.newContainerClassName=e.activeContainerClassName,i.show=t.targets.slice(),e=t.callFilters("stateGetInitialState",e,arguments)}else e.activeFilter=t.parseFilterArgs([t.config.load.filter]).command,e.activeSort=t.parseSortArgs([t.config.load.sort]).command,e.totalTargets=t.targets.length,(e=t.callFilters("stateGetInitialState",e,arguments)).activeSort.collection||e.activeSort.attribute||"random"===e.activeSort.order||"desc"===e.activeSort.order?(i.newSort=e.activeSort,t.sortOperation(i),t.printSort(!1,i),t.targets=i.newOrder):i.startOrder=i.newOrder=t.targets,i.startFilter=i.newFilter=e.activeFilter,i.startSort=i.newSort=e.activeSort,i.startContainerClassName=i.newContainerClassName=e.activeContainerClassName,"all"===i.newFilter.selector?i.newFilter.selector=t.config.selectors.target:"none"===i.newFilter.selector&&(i.newFilter.selector="");return i=t.callFilters("operationGetInitialState",i,[e]),(t.lastOperation=i).newFilter&&t.filterOperation(i),e=t.buildState(i)},cacheDom:function(t,e){var i=this;i.callActions("beforeCacheDom",arguments),i.dom.document=e,i.dom.body=i.dom.document.querySelector("body"),i.dom.container=t,i.dom.parent=t,i.callActions("afterCacheDom",arguments)},indexTargets:function(){var t,e=this,i=null,n=null,a=-1;if(e.callActions("beforeIndexTargets",arguments),e.dom.targets=e.config.layout.allowNestedTargets?e.dom.container.querySelectorAll(e.config.selectors.target):m.children(e.dom.container,e.config.selectors.target,e.dom.document),e.dom.targets=m.arrayFromList(e.dom.targets),e.targets=[],(t=e.config.load.dataset)&&t.length!==e.dom.targets.length)throw new Error(p.messages.errorDatasetPrerenderedMismatch());if(e.dom.targets.length){for(a=0;n=e.dom.targets[a];a++)(i=new p.Target).init(n,e,t?t[a]:void 0),i.isInDom=!0,e.targets.push(i);e.dom.parent=e.dom.targets[0].parentElement===e.dom.container?e.dom.container:e.dom.targets[0].parentElement}e.origOrder=e.targets,e.callActions("afterIndexTargets",arguments)},initControls:function(){var t=this,e="",i=null,n=null,a=null,s=null,o=null,r=-1,l=-1;switch(t.callActions("beforeInitControls",arguments),t.config.controls.scope){case"local":a=t.dom.container;break;case"global":a=t.dom.document;break;default:throw new Error(p.messages.errorConfigInvalidControlsScope())}for(r=0;e=p.controlDefinitions[r];r++)if(t.config.controls.live||e.live){if(e.parent){if(!(s=t.dom[e.parent])||s.length<0)continue;"number"!=typeof s.length&&(s=[s])}else s=[a];for(l=0;n=s[l];l++)o=t.getControl(n,e.type,e.selector),t.controls.push(o)}else for(i=a.querySelectorAll(t.config.selectors.control+e.selector),l=0;n=i[l];l++)(o=t.getControl(n,e.type,""))&&t.controls.push(o);t.callActions("afterInitControls",arguments)},getControl:function(t,e,i){var n=this,a=null,s=-1;if(n.callActions("beforeGetControl",arguments),!i)for(s=0;a=p.controls[s];s++){if(a.el===t&&a.isBound(n))return n.callFilters("controlGetControl",null,arguments);if(a.el===t&&a.type===e&&a.selector===i)return a.addBinding(n),n.callFilters("controlGetControl",a,arguments)}return(a=new p.Control).init(t,e,i),a.classNames.base=m.getClassname(n.config.classNames,e),a.classNames.active=m.getClassname(n.config.classNames,e,n.config.classNames.modifierActive),a.classNames.disabled=m.getClassname(n.config.classNames,e,n.config.classNames.modifierDisabled),a.addBinding(n),n.callFilters("controlGetControl",a,arguments)},getToggleSelector:function(){var t=this,e="or"===t.config.controls.toggleLogic?", ":"",i="";return t.callActions("beforeGetToggleSelector",arguments),t.toggleArray=m.clean(t.toggleArray),""===(i=t.toggleArray.join(e))&&(i=t.config.controls.toggleDefault),t.callFilters("selectorGetToggleSelector",i,arguments)},buildToggleArray:function(t,e){var i=this,n="";if(i.callActions("beforeBuildToggleArray",arguments),t&&t.filter)n=t.filter.selector.replace(/\s/g,"");else{if(!e)return;n=e.activeFilter.selector.replace(/\s/g,"")}n!==i.config.selectors.target&&"all"!==n||(n=""),"or"===i.config.controls.toggleLogic?i.toggleArray=n.split(","):i.toggleArray=i.splitCompoundSelector(n),i.toggleArray=m.clean(i.toggleArray),i.callActions("afterBuildToggleArray",arguments)},splitCompoundSelector:function(t){var e=t.split(/([\.\[])/g),i=[],n="",a=-1;for(""===e[0]&&e.shift(),a=0;a<e.length;a++)a%2==0&&(n=""),n+=e[a],a%2!=0&&i.push(n);return i},updateControls:function(t){var e=this,i=null,n=new p.CommandMultimix,a=-1;for(e.callActions("beforeUpdateControls",arguments),t.filter?n.filter=t.filter.selector:n.filter=e.state.activeFilter.selector,t.sort?n.sort=e.buildSortString(t.sort):n.sort=e.buildSortString(e.state.activeSort),n.filter===e.config.selectors.target&&(n.filter="all"),""===n.filter&&(n.filter="none"),m.freeze(n),a=0;i=e.controls[a];a++)i.update(n,e.toggleArray);e.callActions("afterUpdateControls",arguments)},buildSortString:function(t){var e="";return e+=t.sortString,t.next&&(e+=" "+this.buildSortString(t.next)),e},insertTargets:function(t,e){var i,n=this,a=-1,s=null,o=null,r=null,l=-1;if(n.callActions("beforeInsertTargets",arguments),void 0===t.index&&(t.index=0),i=n.getNextSibling(t.index,t.sibling,t.position),s=n.dom.document.createDocumentFragment(),a=i?m.index(i,n.config.selectors.target):n.targets.length,t.collection){for(l=0;r=t.collection[l];l++){if(-1<n.dom.targets.indexOf(r))throw new Error(p.messages.errorInsertPreexistingElement());r.style.display="none",s.appendChild(r),s.appendChild(n.dom.document.createTextNode(" ")),m.isElement(r,n.dom.document)&&r.matches(n.config.selectors.target)&&((o=new p.Target).init(r,n),o.isInDom=!0,n.targets.splice(a,0,o),a++)}n.dom.parent.insertBefore(s,i)}e.startOrder=n.origOrder=n.targets,n.callActions("afterInsertTargets",arguments)},getNextSibling:function(t,e,i){var n=this,a=null;return t=Math.max(t,0),e&&"before"===i?a=e:e&&"after"===i?a=e.nextElementSibling||null:0<n.targets.length&&void 0!==t?a=t<n.targets.length||!n.targets.length?n.targets[t].dom.el:n.targets[n.targets.length-1].dom.el.nextElementSibling:0===n.targets.length&&0<n.dom.parent.children.length&&(n.config.layout.siblingAfter?a=n.config.layout.siblingAfter:n.config.layout.siblingBefore?a=n.config.layout.siblingBefore.nextElementSibling:n.dom.parent.children[0]),n.callFilters("elementGetNextSibling",a,arguments)},filterOperation:function(t){var e,i=!1,n=-1,a=null,s=-1;for(this.callActions("beforeFilterOperation",arguments),e=t.newFilter.action,s=0;a=t.newOrder[s];s++)i=t.newFilter.collection?-1<t.newFilter.collection.indexOf(a.dom.el):""!==t.newFilter.selector&&a.dom.el.matches(t.newFilter.selector),this.evaluateHideShow(i,a,e,t);if(t.toRemove.length)for(s=0;a=t.show[s];s++)-1<t.toRemove.indexOf(a)&&(t.show.splice(s,1),-1<(n=t.toShow.indexOf(a))&&t.toShow.splice(n,1),t.toHide.push(a),t.hide.push(a),s--);t.matching=t.show.slice(),0===t.show.length&&""!==t.newFilter.selector&&0!==this.targets.length&&(t.hasFailed=!0),this.callActions("afterFilterOperation",arguments)},evaluateHideShow:function(t,e,i,n){var a,s=Array.prototype.slice.call(arguments,1);a=this.callFilters("testResultEvaluateHideShow",t,s),this.callActions("beforeEvaluateHideShow",arguments),!0===a&&"show"===i||!1===a&&"hide"===i?(n.show.push(e),!e.isShown&&n.toShow.push(e)):(n.hide.push(e),e.isShown&&n.toHide.push(e)),this.callActions("afterEvaluateHideShow",arguments)},sortOperation:function(i){var n=this,t=[],e=null,a=null,s=-1;if(n.callActions("beforeSortOperation",arguments),i.startOrder=n.targets,i.newSort.collection){for(t=[],s=0;a=i.newSort.collection[s];s++){if(n.dom.targets.indexOf(a)<0)throw new Error(p.messages.errorSortNonExistentElement());(e=new p.Target).init(a,n),e.isInDom=!0,t.push(e)}i.newOrder=t}else"random"===i.newSort.order?i.newOrder=m.arrayShuffle(i.startOrder):""===i.newSort.attribute?(i.newOrder=n.origOrder.slice(),"desc"===i.newSort.order&&i.newOrder.reverse()):(i.newOrder=i.startOrder.slice(),i.newOrder.sort(function(t,e){return n.compare(t,e,i.newSort)}));m.isEqualArray(i.newOrder,i.startOrder)&&(i.willSort=!1),n.callActions("afterSortOperation",arguments)},compare:function(t,e,i){var n=i.order,a=this.getAttributeValue(t,i.attribute),s=this.getAttributeValue(e,i.attribute);return isNaN(1*a)||isNaN(1*s)?(a=a.toLowerCase(),s=s.toLowerCase()):(a*=1,s*=1),a<s?"asc"===n?-1:1:s<a?"asc"===n?1:-1:a===s&&i.next?this.compare(t,e,i.next):0},getAttributeValue:function(t,e){var i;return null===(i=t.dom.el.getAttribute("data-"+e))&&this.config.debug.showWarnings&&console.warn(p.messages.warningInconsistentSortingAttributes({attribute:"data-"+e})),this.callFilters("valueGetAttributeValue",i||0,arguments)},printSort:function(t,e){var i,n=this,a=t?e.newOrder:e.startOrder,s=t?e.startOrder:e.newOrder,o=a.length?a[a.length-1].dom.el.nextElementSibling:null,r=h.document.createDocumentFragment(),l=null,c=null,u=-1;for(n.callActions("beforePrintSort",arguments),u=0;l=a[u];u++)"absolute"!==(c=l.dom.el).style.position&&(m.removeWhitespace(c.previousSibling),c.parentElement.removeChild(c));for((i=o?o.previousSibling:n.dom.parent.lastChild)&&"#text"===i.nodeName&&m.removeWhitespace(i),u=0;l=s[u];u++)c=l.dom.el,m.isElement(r.lastChild)&&r.appendChild(h.document.createTextNode(" ")),r.appendChild(c);n.dom.parent.firstChild&&n.dom.parent.firstChild!==o&&r.insertBefore(h.document.createTextNode(" "),r.childNodes[0]),o?(r.appendChild(h.document.createTextNode(" ")),n.dom.parent.insertBefore(r,o)):n.dom.parent.appendChild(r),n.callActions("afterPrintSort",arguments)},parseSortString:function(t,e){var i=t.split(" "),n=e,a=[],s=-1;for(s=0;s<i.length;s++){switch(a=i[s].split(":"),n.sortString=i[s],n.attribute=m.dashCase(a[0]),n.order=a[1]||"asc",n.attribute){case"default":n.attribute="";break;case"random":n.attribute="",n.order="random"}if(!n.attribute||"random"===n.order)break;s<i.length-1&&(n.next=new p.CommandSort,m.freeze(n),n=n.next)}return this.callFilters("commandsParseSort",e,arguments)},parseEffects:function(){var t=this,e="",i=t.config.animation.effectsIn||t.config.animation.effects,n=t.config.animation.effectsOut||t.config.animation.effects;for(e in t.callActions("beforeParseEffects",arguments),t.effectsIn=new p.StyleData,t.effectsOut=new p.StyleData,t.transformIn=[],t.transformOut=[],t.effectsIn.opacity=t.effectsOut.opacity=1,t.parseEffect("fade",i,t.effectsIn,t.transformIn),t.parseEffect("fade",n,t.effectsOut,t.transformOut,!0),p.transformDefaults)p.transformDefaults[e]instanceof p.TransformData&&(t.parseEffect(e,i,t.effectsIn,t.transformIn),t.parseEffect(e,n,t.effectsOut,t.transformOut,!0));t.parseEffect("stagger",i,t.effectsIn,t.transformIn),t.parseEffect("stagger",n,t.effectsOut,t.transformOut,!0),t.callActions("afterParseEffects",arguments)},parseEffect:function(t,e,i,n,a){var s,o=this,r="",l="",c=["%","px","em","rem","vh","vw","deg"],u="",d=-1;if(o.callActions("beforeParseEffect",arguments),"string"!=typeof e)throw new TypeError(p.messages.errorConfigInvalidAnimationEffects());if(e.indexOf(t)<0)"stagger"===t&&(o.staggerDuration=0);else{switch(-1<(s=e.indexOf(t+"("))&&(r=e.substring(s),l=/\(([^)]+)\)/.exec(r)[1]),t){case"fade":i.opacity=l?parseFloat(l):0;break;case"stagger":o.staggerDuration=l?parseFloat(l):100;break;default:if(a&&o.config.animation.reverseOut&&"scale"!==t?i[t].value=-1*(l?parseFloat(l):p.transformDefaults[t].value):i[t].value=l?parseFloat(l):p.transformDefaults[t].value,l){for(d=0;u=c[d];d++)if(-1<l.indexOf(u)){i[t].unit=u;break}}else i[t].unit=p.transformDefaults[t].unit;n.push(t+"("+i[t].value+i[t].unit+")")}o.callActions("afterParseEffect",arguments)}},buildState:function(t){var e=this,i=new p.State,n=null,a=-1;for(e.callActions("beforeBuildState",arguments),a=0;n=e.targets[a];a++)(!t.toRemove.length||t.toRemove.indexOf(n)<0)&&i.targets.push(n.dom.el);for(a=0;n=t.matching[a];a++)i.matching.push(n.dom.el);for(a=0;n=t.show[a];a++)i.show.push(n.dom.el);for(a=0;n=t.hide[a];a++)(!t.toRemove.length||t.toRemove.indexOf(n)<0)&&i.hide.push(n.dom.el);return i.id=e.id,i.container=e.dom.container,i.activeFilter=t.newFilter,i.activeSort=t.newSort,i.activeDataset=t.newDataset,i.activeContainerClassName=t.newContainerClassName,i.hasFailed=t.hasFailed,i.totalTargets=e.targets.length,i.totalShow=t.show.length,i.totalHide=t.hide.length,i.totalMatching=t.matching.length,i.triggerElement=t.triggerElement,e.callFilters("stateBuildState",i,arguments)},goMix:function(t,e){var i=this,n=null;return i.callActions("beforeGoMix",arguments),i.config.animation.duration&&i.config.animation.effects&&m.isVisible(i.dom.container)||(t=!1),e.toShow.length||e.toHide.length||e.willSort||e.willChangeLayout||(t=!1),e.startState.show.length||e.show.length||(t=!1),p.events.fire("mixStart",i.dom.container,{state:e.startState,futureState:e.newState,instance:i},i.dom.document),"function"==typeof i.config.callbacks.onMixStart&&i.config.callbacks.onMixStart.call(i.dom.container,e.startState,e.newState,i),m.removeClass(i.dom.container,m.getClassname(i.config.classNames,"container",i.config.classNames.modifierFailed)),n=i.userDeferred?i.userDeferred:i.userDeferred=m.defer(p.libraries),i.isBusy=!0,t&&p.features.has.transitions?(h.pageYOffset!==e.docState.scrollTop&&h.scrollTo(e.docState.scrollLeft,e.docState.scrollTop),i.config.animation.applyPerspective&&(i.dom.parent.style[p.features.perspectiveProp]=i.config.animation.perspectiveDistance,i.dom.parent.style[p.features.perspectiveOriginProp]=i.config.animation.perspectiveOrigin),i.config.animation.animateResizeContainer&&e.startHeight!==e.newHeight&&e.viewportDeltaY!==e.startHeight-e.newHeight&&(i.dom.parent.style.height=e.startHeight+"px"),i.config.animation.animateResizeContainer&&e.startWidth!==e.newWidth&&e.viewportDeltaX!==e.startWidth-e.newWidth&&(i.dom.parent.style.width=e.startWidth+"px"),e.startHeight===e.newHeight&&(i.dom.parent.style.height=e.startHeight+"px"),e.startWidth===e.newWidth&&(i.dom.parent.style.width=e.startWidth+"px"),e.startHeight===e.newHeight&&e.startWidth===e.newWidth&&(i.dom.parent.style.overflow="hidden"),requestAnimationFrame(function(){i.moveTargets(e)})):i.config.debug.fauxAsync?setTimeout(function(){i.cleanUp(e)},i.config.animation.duration):i.cleanUp(e),i.callFilters("promiseGoMix",n.promise,arguments)},getStartMixData:function(t){var e=this,i=h.getComputedStyle(e.dom.parent),n=e.dom.parent.getBoundingClientRect(),a=null,s={},o=-1,r=i[p.features.boxSizingProp];for(e.incPadding="border-box"===r,e.callActions("beforeGetStartMixData",arguments),o=0;a=t.show[o];o++)s=a.getPosData(),t.showPosData[o]={startPosData:s};for(o=0;a=t.toHide[o];o++)s=a.getPosData(),t.toHidePosData[o]={startPosData:s};t.startX=n.left,t.startY=n.top,t.startHeight=e.incPadding?n.height:n.height-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderTop)-parseFloat(i.borderBottom),t.startWidth=e.incPadding?n.width:n.width-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderLeft)-parseFloat(i.borderRight),e.callActions("afterGetStartMixData",arguments)},setInter:function(t){var e=this,i=null,n=-1;for(e.callActions("beforeSetInter",arguments),e.config.animation.clampHeight&&(e.dom.parent.style.height=t.startHeight+"px",e.dom.parent.style.overflow="hidden"),e.config.animation.clampWidth&&(e.dom.parent.style.width=t.startWidth+"px",e.dom.parent.style.overflow="hidden"),n=0;i=t.toShow[n];n++)i.show();t.willChangeLayout&&(m.removeClass(e.dom.container,t.startContainerClassName),m.addClass(e.dom.container,t.newContainerClassName)),e.callActions("afterSetInter",arguments)},getInterMixData:function(t){var e=null,i=-1;for(this.callActions("beforeGetInterMixData",arguments),i=0;e=t.show[i];i++)t.showPosData[i].interPosData=e.getPosData();for(i=0;e=t.toHide[i];i++)t.toHidePosData[i].interPosData=e.getPosData();this.callActions("afterGetInterMixData",arguments)},setFinal:function(t){var e=null,i=-1;for(this.callActions("beforeSetFinal",arguments),t.willSort&&this.printSort(!1,t),i=0;e=t.toHide[i];i++)e.hide();this.callActions("afterSetFinal",arguments)},getFinalMixData:function(t){var e,i=this,n=null,a=null,s=-1;for(i.callActions("beforeGetFinalMixData",arguments),s=0;a=t.show[s];s++)t.showPosData[s].finalPosData=a.getPosData();for(s=0;a=t.toHide[s];s++)t.toHidePosData[s].finalPosData=a.getPosData();for((i.config.animation.clampHeight||i.config.animation.clampWidth)&&(i.dom.parent.style.height=i.dom.parent.style.width=i.dom.parent.style.overflow=""),i.incPadding||(n=h.getComputedStyle(i.dom.parent)),e=i.dom.parent.getBoundingClientRect(),t.newX=e.left,t.newY=e.top,t.newHeight=i.incPadding?e.height:e.height-parseFloat(n.paddingTop)-parseFloat(n.paddingBottom)-parseFloat(n.borderTop)-parseFloat(n.borderBottom),t.newWidth=i.incPadding?e.width:e.width-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight)-parseFloat(n.borderLeft)-parseFloat(n.borderRight),t.viewportDeltaX=t.docState.viewportWidth-this.dom.document.documentElement.clientWidth,t.viewportDeltaY=t.docState.viewportHeight-this.dom.document.documentElement.clientHeight,t.willSort&&i.printSort(!0,t),s=0;a=t.toShow[s];s++)a.hide();for(s=0;a=t.toHide[s];s++)a.show();t.willChangeLayout&&(m.removeClass(i.dom.container,t.newContainerClassName),m.addClass(i.dom.container,i.config.layout.containerClassName)),i.callActions("afterGetFinalMixData",arguments)},getTweenData:function(t){var e=this,i=null,n=null,a=Object.getOwnPropertyNames(e.effectsIn),s="",o=null,r=-1,l=-1,c=-1,u=-1;for(e.callActions("beforeGetTweenData",arguments),c=0;i=t.show[c];c++)for((n=t.showPosData[c]).posIn=new p.StyleData,n.posOut=new p.StyleData,n.tweenData=new p.StyleData,i.isShown?(n.posIn.x=n.startPosData.x-n.interPosData.x,n.posIn.y=n.startPosData.y-n.interPosData.y):n.posIn.x=n.posIn.y=0,n.posOut.x=n.finalPosData.x-n.interPosData.x,n.posOut.y=n.finalPosData.y-n.interPosData.y,n.posIn.opacity=i.isShown?1:e.effectsIn.opacity,n.posOut.opacity=1,n.tweenData.opacity=n.posOut.opacity-n.posIn.opacity,i.isShown||e.config.animation.nudge||(n.posIn.x=n.posOut.x,n.posIn.y=n.posOut.y),n.tweenData.x=n.posOut.x-n.posIn.x,n.tweenData.y=n.posOut.y-n.posIn.y,e.config.animation.animateResizeTargets&&(n.posIn.width=n.startPosData.width,n.posIn.height=n.startPosData.height,r=(n.startPosData.width||n.finalPosData.width)-n.interPosData.width,n.posIn.marginRight=n.startPosData.marginRight-r,l=(n.startPosData.height||n.finalPosData.height)-n.interPosData.height,n.posIn.marginBottom=n.startPosData.marginBottom-l,n.posOut.width=n.finalPosData.width,n.posOut.height=n.finalPosData.height,r=(n.finalPosData.width||n.startPosData.width)-n.interPosData.width,n.posOut.marginRight=n.finalPosData.marginRight-r,l=(n.finalPosData.height||n.startPosData.height)-n.interPosData.height,n.posOut.marginBottom=n.finalPosData.marginBottom-l,n.tweenData.width=n.posOut.width-n.posIn.width,n.tweenData.height=n.posOut.height-n.posIn.height,n.tweenData.marginRight=n.posOut.marginRight-n.posIn.marginRight,n.tweenData.marginBottom=n.posOut.marginBottom-n.posIn.marginBottom),u=0;s=a[u];u++)(o=e.effectsIn[s])instanceof p.TransformData&&o.value&&(n.posIn[s].value=o.value,n.posOut[s].value=0,n.tweenData[s].value=n.posOut[s].value-n.posIn[s].value,n.posIn[s].unit=n.posOut[s].unit=n.tweenData[s].unit=o.unit);for(c=0;i=t.toHide[c];c++)for((n=t.toHidePosData[c]).posIn=new p.StyleData,n.posOut=new p.StyleData,n.tweenData=new p.StyleData,n.posIn.x=i.isShown?n.startPosData.x-n.interPosData.x:0,n.posIn.y=i.isShown?n.startPosData.y-n.interPosData.y:0,n.posOut.x=e.config.animation.nudge?0:n.posIn.x,n.posOut.y=e.config.animation.nudge?0:n.posIn.y,n.tweenData.x=n.posOut.x-n.posIn.x,n.tweenData.y=n.posOut.y-n.posIn.y,e.config.animation.animateResizeTargets&&(n.posIn.width=n.startPosData.width,n.posIn.height=n.startPosData.height,r=n.startPosData.width-n.interPosData.width,n.posIn.marginRight=n.startPosData.marginRight-r,l=n.startPosData.height-n.interPosData.height,n.posIn.marginBottom=n.startPosData.marginBottom-l),n.posIn.opacity=1,n.posOut.opacity=e.effectsOut.opacity,n.tweenData.opacity=n.posOut.opacity-n.posIn.opacity,u=0;s=a[u];u++)(o=e.effectsOut[s])instanceof p.TransformData&&o.value&&(n.posIn[s].value=0,n.posOut[s].value=o.value,n.tweenData[s].value=n.posOut[s].value-n.posIn[s].value,n.posIn[s].unit=n.posOut[s].unit=n.tweenData[s].unit=o.unit);e.callActions("afterGetTweenData",arguments)},moveTargets:function(t){var e=this,i=null,n=null,a=null,s="",o=!1,r=-1,l=-1,c=e.checkProgress.bind(e);for(e.callActions("beforeMoveTargets",arguments),l=0;i=t.show[l];l++)n=new p.IMoveData,a=t.showPosData[l],s=i.isShown?"none":"show",(o=e.willTransition(s,t.hasEffect,a.posIn,a.posOut))&&r++,i.show(),n.posIn=a.posIn,n.posOut=a.posOut,n.statusChange=s,n.staggerIndex=r,n.operation=t,n.callback=o?c:null,i.move(n);for(l=0;i=t.toHide[l];l++)a=t.toHidePosData[l],n=new p.IMoveData,s="hide",o=e.willTransition(s,a.posIn,a.posOut),n.posIn=a.posIn,n.posOut=a.posOut,n.statusChange=s,n.staggerIndex=l,n.operation=t,n.callback=o?c:null,i.move(n);e.config.animation.animateResizeContainer&&(e.dom.parent.style[p.features.transitionProp]="height "+e.config.animation.duration+"ms ease, width "+e.config.animation.duration+"ms ease ",requestAnimationFrame(function(){t.startHeight!==t.newHeight&&t.viewportDeltaY!==t.startHeight-t.newHeight&&(e.dom.parent.style.height=t.newHeight+"px"),t.startWidth!==t.newWidth&&t.viewportDeltaX!==t.startWidth-t.newWidth&&(e.dom.parent.style.width=t.newWidth+"px")})),t.willChangeLayout&&(m.removeClass(e.dom.container,e.config.layout.ContainerClassName),m.addClass(e.dom.container,t.newContainerClassName)),e.callActions("afterMoveTargets",arguments)},hasEffect:function(){var t=["scale","translateX","translateY","translateZ","rotateX","rotateY","rotateZ"],e="",i=null,n=!1,a=-1;if(1!==this.effectsIn.opacity)return this.callFilters("resultHasEffect",!0,arguments);for(a=0;e=t[a];a++)if(0!==("undefined"!==(i=this.effectsIn[e]).value?i.value:i)){n=!0;break}return this.callFilters("resultHasEffect",n,arguments)},willTransition:function(t,e,i,n){var a=!1;return a=!!m.isVisible(this.dom.container)&&(!!("none"!==t&&e||i.x!==n.x||i.y!==n.y)||!!this.config.animation.animateResizeTargets&&(i.width!==n.width||i.height!==n.height||i.marginRight!==n.marginRight||i.marginTop!==n.marginTop)),this.callFilters("resultWillTransition",a,arguments)},checkProgress:function(t){this.targetsDone++,this.targetsBound===this.targetsDone&&this.cleanUp(t)},cleanUp:function(t){var e=this,i=null,n=null,a=null,s=null,o=-1;for(e.callActions("beforeCleanUp",arguments),e.targetsMoved=e.targetsImmovable=e.targetsBound=e.targetsDone=0,o=0;i=t.show[o];o++)i.cleanUp(),i.show();for(o=0;i=t.toHide[o];o++)i.cleanUp(),i.hide();if(t.willSort&&e.printSort(!1,t),e.dom.parent.style[p.features.transitionProp]=e.dom.parent.style.height=e.dom.parent.style.width=e.dom.parent.style.overflow=e.dom.parent.style[p.features.perspectiveProp]=e.dom.parent.style[p.features.perspectiveOriginProp]="",t.willChangeLayout&&(m.removeClass(e.dom.container,t.startContainerClassName),m.addClass(e.dom.container,t.newContainerClassName)),t.toRemove.length){for(o=0;i=e.targets[o];o++)-1<t.toRemove.indexOf(i)&&((n=i.dom.el.previousSibling)&&"#text"===n.nodeName&&(a=i.dom.el.nextSibling)&&"#text"===a.nodeName&&m.removeWhitespace(n),t.willSort||e.dom.parent.removeChild(i.dom.el),e.targets.splice(o,1),i.isInDom=!1,o--);e.origOrder=e.targets}t.willSort&&(e.targets=t.newOrder),e.state=t.newState,e.lastOperation=t,e.dom.targets=e.state.targets,p.events.fire("mixEnd",e.dom.container,{state:e.state,instance:e},e.dom.document),"function"==typeof e.config.callbacks.onMixEnd&&e.config.callbacks.onMixEnd.call(e.dom.container,e.state,e),t.hasFailed&&(p.events.fire("mixFail",e.dom.container,{state:e.state,instance:e},e.dom.document),"function"==typeof e.config.callbacks.onMixFail&&e.config.callbacks.onMixFail.call(e.dom.container,e.state,e),m.addClass(e.dom.container,m.getClassname(e.config.classNames,"container",e.config.classNames.modifierFailed))),"function"==typeof e.userCallback&&e.userCallback.call(e.dom.container,e.state,e),"function"==typeof e.userDeferred.resolve&&e.userDeferred.resolve(e.state),e.userCallback=null,e.userDeferred=null,e.lastClicked=null,e.isToggling=!1,e.isBusy=!1,e.queue.length&&(e.callActions("beforeReadQueueCleanUp",arguments),s=e.queue.shift(),e.userDeferred=s.deferred,e.isToggling=s.isToggling,e.lastClicked=s.triggerElement,s.instruction.command instanceof p.CommandMultimix?e.multimix.apply(e,s.args):e.dataset.apply(e,s.args)),e.callActions("afterCleanUp",arguments)},parseMultimixArgs:function(t){var e=this,i=new p.UserInstruction,n=null,a=-1;for(i.animate=e.config.animation.enable,i.command=new p.CommandMultimix,a=0;a<t.length;a++)null!==(n=t[a])&&("object"==typeof n?m.extend(i.command,n):"boolean"==typeof n?i.animate=n:"function"==typeof n&&(i.callback=n));return!i.command.insert||i.command.insert instanceof p.CommandInsert||(i.command.insert=e.parseInsertArgs([i.command.insert]).command),!i.command.remove||i.command.remove instanceof p.CommandRemove||(i.command.remove=e.parseRemoveArgs([i.command.remove]).command),!i.command.filter||i.command.filter instanceof p.CommandFilter||(i.command.filter=e.parseFilterArgs([i.command.filter]).command),!i.command.sort||i.command.sort instanceof p.CommandSort||(i.command.sort=e.parseSortArgs([i.command.sort]).command),!i.command.changeLayout||i.command.changeLayout instanceof p.CommandChangeLayout||(i.command.changeLayout=e.parseChangeLayoutArgs([i.command.changeLayout]).command),i=e.callFilters("instructionParseMultimixArgs",i,arguments),m.freeze(i),i},parseFilterArgs:function(t){var e=new p.UserInstruction,i=null,n=-1;for(e.animate=this.config.animation.enable,e.command=new p.CommandFilter,n=0;n<t.length;n++)"string"==typeof(i=t[n])?e.command.selector=i:null===i?e.command.collection=[]:"object"==typeof i&&m.isElement(i,this.dom.document)?e.command.collection=[i]:"object"==typeof i&&void 0!==i.length?e.command.collection=m.arrayFromList(i):"object"==typeof i?m.extend(e.command,i):"boolean"==typeof i?e.animate=i:"function"==typeof i&&(e.callback=i);if(e.command.selector&&e.command.collection)throw new Error(p.messages.errorFilterInvalidArguments());return e=this.callFilters("instructionParseFilterArgs",e,arguments),m.freeze(e),e},parseSortArgs:function(t){var e=new p.UserInstruction,i=null,n="",a=-1;for(e.animate=this.config.animation.enable,e.command=new p.CommandSort,a=0;a<t.length;a++)if(null!==(i=t[a]))switch(typeof i){case"string":n=i;break;case"object":i.length&&(e.command.collection=m.arrayFromList(i));break;case"boolean":e.animate=i;break;case"function":e.callback=i}return n&&(e.command=this.parseSortString(n,e.command)),e=this.callFilters("instructionParseSortArgs",e,arguments),m.freeze(e),e},parseInsertArgs:function(t){var e=new p.UserInstruction,i=null,n=-1;for(e.animate=this.config.animation.enable,e.command=new p.CommandInsert,n=0;n<t.length;n++)null!==(i=t[n])&&("number"==typeof i?e.command.index=i:"string"==typeof i&&-1<["before","after"].indexOf(i)?e.command.position=i:"string"==typeof i?e.command.collection=m.arrayFromList(m.createElement(i).childNodes):"object"==typeof i&&m.isElement(i,this.dom.document)?e.command.collection.length?e.command.sibling=i:e.command.collection=[i]:"object"==typeof i&&i.length?e.command.collection.length?e.command.sibling=i[0]:e.command.collection=i:"object"==typeof i&&i.childNodes&&i.childNodes.length?e.command.collection.length?e.command.sibling=i.childNodes[0]:e.command.collection=m.arrayFromList(i.childNodes):"object"==typeof i?m.extend(e.command,i):"boolean"==typeof i?e.animate=i:"function"==typeof i&&(e.callback=i));if(e.command.index&&e.command.sibling)throw new Error(p.messages.errorInsertInvalidArguments());return!e.command.collection.length&&this.config.debug.showWarnings&&console.warn(p.messages.warningInsertNoElements()),e=this.callFilters("instructionParseInsertArgs",e,arguments),m.freeze(e),e},parseRemoveArgs:function(t){var e=this,i=new p.UserInstruction,n=null,a=null,s=-1;for(i.animate=e.config.animation.enable,i.command=new p.CommandRemove,s=0;s<t.length;s++)if(null!==(a=t[s]))switch(typeof a){case"number":e.targets[a]&&(i.command.targets[0]=e.targets[a]);break;case"string":i.command.collection=m.arrayFromList(e.dom.parent.querySelectorAll(a));break;case"object":a&&a.length?i.command.collection=a:m.isElement(a,e.dom.document)?i.command.collection=[a]:m.extend(i.command,a);break;case"boolean":i.animate=a;break;case"function":i.callback=a}if(i.command.collection.length)for(s=0;n=e.targets[s];s++)-1<i.command.collection.indexOf(n.dom.el)&&i.command.targets.push(n);return!i.command.targets.length&&e.config.debug.showWarnings&&console.warn(p.messages.warningRemoveNoElements()),m.freeze(i),i},parseDatasetArgs:function(t){var e=new p.UserInstruction,i=null,n=-1;for(e.animate=this.config.animation.enable,e.command=new p.CommandDataset,n=0;n<t.length;n++)if(null!==(i=t[n]))switch(typeof i){case"object":Array.isArray(i)||"number"==typeof i.length?e.command.dataset=i:m.extend(e.command,i);break;case"boolean":e.animate=i;break;case"function":e.callback=i}return m.freeze(e),e},parseChangeLayoutArgs:function(t){var e=new p.UserInstruction,i=null,n=-1;for(e.animate=this.config.animation.enable,e.command=new p.CommandChangeLayout,n=0;n<t.length;n++)if(null!==(i=t[n]))switch(typeof i){case"string":e.command.containerClassName=i;break;case"object":m.extend(e.command,i);break;case"boolean":e.animate=i;break;case"function":e.callback=i}return m.freeze(e),e},queueMix:function(t){var e=this,i=null,n="";return e.callActions("beforeQueueMix",arguments),i=m.defer(p.libraries),e.config.animation.queue&&e.queue.length<e.config.animation.queueLimit?(t.deferred=i,e.queue.push(t),e.config.controls.enable&&(e.isToggling?(e.buildToggleArray(t.instruction.command),n=e.getToggleSelector(),e.updateControls({filter:{selector:n}})):e.updateControls(t.instruction.command))):(e.config.debug.showWarnings&&console.warn(p.messages.warningMultimixInstanceQueueFull()),i.resolve(e.state),p.events.fire("mixBusy",e.dom.container,{state:e.state,instance:e},e.dom.document),"function"==typeof e.config.callbacks.onMixBusy&&e.config.callbacks.onMixBusy.call(e.dom.container,e.state,e)),e.callFilters("promiseQueueMix",i.promise,arguments)},getDataOperation:function(t){var e=this,i=new p.Operation,n=[];if(i=e.callFilters("operationUnmappedGetDataOperation",i,arguments),e.dom.targets.length&&!(n=e.state.activeDataset||[]).length)throw new Error(p.messages.errorDatasetNotSet());return i.id=m.randomHex(),i.startState=e.state,i.startDataset=n,i.newDataset=t.slice(),e.diffDatasets(i),i.startOrder=e.targets,i.newOrder=i.show,e.config.animation.enable&&(e.getStartMixData(i),e.setInter(i),i.docState=m.getDocumentState(e.dom.document),e.getInterMixData(i),e.setFinal(i),e.getFinalMixData(i),e.parseEffects(),i.hasEffect=e.hasEffect(),e.getTweenData(i)),e.targets=i.show.slice(),i.newState=e.buildState(i),Array.prototype.push.apply(e.targets,i.toRemove),i=e.callFilters("operationMappedGetDataOperation",i,arguments)},diffDatasets:function(t){var e=this,i=[],n=[],a=[],s=null,o=null,r=null,l=null,c=null,u={},d="",h=-1;for(e.callActions("beforeDiffDatasets",arguments),h=0;s=t.newDataset[h];h++){if(void 0===(d=s[e.config.data.uidKey])||d.toString().length<1)throw new TypeError(p.messages.errorDatasetInvalidUidKey({uidKey:e.config.data.uidKey}));if(u[d])throw new Error(p.messages.errorDatasetDuplicateUid({uid:d}));u[d]=!0,(o=e.cache[d])instanceof p.Target?(e.config.data.dirtyCheck&&!m.deepEquals(s,o.data)&&(r=o.render(s),o.data=s,r!==o.dom.el&&(o.isInDom&&(o.unbindEvents(),e.dom.parent.replaceChild(r,o.dom.el)),o.isShown||(r.style.display="none"),o.dom.el=r,o.isInDom&&o.bindEvents())),r=o.dom.el):((o=new p.Target).init(null,e,s),o.hide()),o.isInDom?(c=o.dom.el.nextElementSibling,n.push(d),l&&(l.lastElementChild&&l.appendChild(e.dom.document.createTextNode(" ")),e.insertDatasetFrag(l,o.dom.el,a),l=null)):(l||(l=e.dom.document.createDocumentFragment()),l.lastElementChild&&l.appendChild(e.dom.document.createTextNode(" ")),l.appendChild(o.dom.el),o.isInDom=!0,o.unbindEvents(),o.bindEvents(),o.hide(),t.toShow.push(o),a.push(o)),t.show.push(o)}for(l&&((c=c||e.config.layout.siblingAfter)&&l.appendChild(e.dom.document.createTextNode(" ")),e.insertDatasetFrag(l,c,a)),h=0;s=t.startDataset[h];h++)d=s[e.config.data.uidKey],o=e.cache[d],t.show.indexOf(o)<0?(t.hide.push(o),t.toHide.push(o),t.toRemove.push(o)):i.push(d);m.isEqualArray(i,n)||(t.willSort=!0),e.callActions("afterDiffDatasets",arguments)},insertDatasetFrag:function(t,e,i){var n=e?m.arrayFromList(this.dom.parent.children).indexOf(e):this.targets.length;for(this.dom.parent.insertBefore(t,e);i.length;)this.targets.splice(n,0,i.shift()),n++},willSort:function(t,e){var i=!1;return i=!!(this.config.behavior.liveSort||"random"===t.order||t.attribute!==e.attribute||t.order!==e.order||t.collection!==e.collection||null===t.next&&e.next||t.next&&null===e.next)||!(!t.next||!e.next)&&this.willSort(t.next,e.next),this.callFilters("resultWillSort",i,arguments)},show:function(){return this.filter("all")},hide:function(){return this.filter("none")},isMixing:function(){return this.isBusy},filter:function(){var t=this.parseFilterArgs(arguments);return this.multimix({filter:t.command},t.animate,t.callback)},toggleOn:function(){var t,e=this,i=e.parseFilterArgs(arguments),n=i.command.selector;return e.isToggling=!0,e.toggleArray.indexOf(n)<0&&e.toggleArray.push(n),t=e.getToggleSelector(),e.multimix({filter:t},i.animate,i.callback)},toggleOff:function(){var t,e=this,i=e.parseFilterArgs(arguments),n=i.command.selector,a=e.toggleArray.indexOf(n);return e.isToggling=!0,-1<a&&e.toggleArray.splice(a,1),t=e.getToggleSelector(),e.multimix({filter:t},i.animate,i.callback)},sort:function(){var t=this.parseSortArgs(arguments);return this.multimix({sort:t.command},t.animate,t.callback)},changeLayout:function(){var t=this.parseChangeLayoutArgs(arguments);return this.multimix({changeLayout:t.command},t.animate,t.callback)},dataset:function(){var t=this,e=t.parseDatasetArgs(arguments),i=null,n=null,a=!1;return t.callActions("beforeDataset",arguments),t.isBusy?((n=new p.QueueItem).args=arguments,n.instruction=e,t.queueMix(n)):(e.callback&&(t.userCallback=e.callback),a=e.animate^t.config.animation.enable?e.animate:t.config.animation.enable,i=t.getDataOperation(e.command.dataset),t.goMix(a,i))},multimix:function(){var t=this,e=null,i=!1,n=null,a=t.parseMultimixArgs(arguments);return t.callActions("beforeMultimix",arguments),t.isBusy?((n=new p.QueueItem).args=arguments,n.instruction=a,n.triggerElement=t.lastClicked,n.isToggling=t.isToggling,t.queueMix(n)):(e=t.getOperation(a.command),t.config.controls.enable&&(a.command.filter&&!t.isToggling&&(t.toggleArray.length=0,t.buildToggleArray(e.command)),t.queue.length<1&&t.updateControls(e.command)),a.callback&&(t.userCallback=a.callback),i=a.animate^t.config.animation.enable?a.animate:t.config.animation.enable,t.callFilters("operationMultimix",e,arguments),t.goMix(i,e))},getOperation:function(t){var e=this,i=t.sort,n=t.filter,a=t.changeLayout,s=t.remove,o=t.insert,r=new p.Operation;return(r=e.callFilters("operationUnmappedGetOperation",r,arguments)).id=m.randomHex(),r.command=t,r.startState=e.state,r.triggerElement=e.lastClicked,e.isBusy?(e.config.debug.showWarnings&&console.warn(p.messages.warningGetOperationInstanceBusy()),null):(o&&e.insertTargets(o,r),s&&(r.toRemove=s.targets),r.startSort=r.newSort=r.startState.activeSort,r.startOrder=r.newOrder=e.targets,i&&(r.startSort=r.startState.activeSort,r.newSort=i,r.willSort=e.willSort(i,r.startState.activeSort),r.willSort&&e.sortOperation(r)),r.startFilter=r.startState.activeFilter,r.newFilter=n||m.extend(new p.CommandFilter,r.startFilter),"all"===r.newFilter.selector?r.newFilter.selector=e.config.selectors.target:"none"===r.newFilter.selector&&(r.newFilter.selector=""),e.filterOperation(r),r.startContainerClassName=r.startState.activeContainerClassName,a?(r.newContainerClassName=a.containerClassName,r.newContainerClassName!==r.startContainerClassName&&(r.willChangeLayout=!0)):r.newContainerClassName=r.startContainerClassName,e.config.animation.enable&&(e.getStartMixData(r),e.setInter(r),r.docState=m.getDocumentState(e.dom.document),e.getInterMixData(r),e.setFinal(r),e.getFinalMixData(r),e.parseEffects(),r.hasEffect=e.hasEffect(),e.getTweenData(r)),r.willSort&&(e.targets=r.newOrder),r.newState=e.buildState(r),e.callFilters("operationMappedGetOperation",r,arguments))},tween:function(t,e){var i=null,n=null,a=-1,s=-1;for(e=Math.min(e,1),e=Math.max(e,0),s=0;i=t.show[s];s++)n=t.showPosData[s],i.applyTween(n,e);for(s=0;i=t.hide[s];s++)i.isShown&&i.hide(),-1<(a=t.toHide.indexOf(i))&&(n=t.toHidePosData[a],i.isShown||i.show(),i.applyTween(n,e))},insert:function(){var t=this.parseInsertArgs(arguments);return this.multimix({insert:t.command},t.animate,t.callback)},insertBefore:function(){var t=this.parseInsertArgs(arguments);return this.insert(t.command.collection,"before",t.command.sibling,t.animate,t.callback)},insertAfter:function(){var t=this.parseInsertArgs(arguments);return this.insert(t.command.collection,"after",t.command.sibling,t.animate,t.callback)},prepend:function(){var t=this.parseInsertArgs(arguments);return this.insert(0,t.command.collection,t.animate,t.callback)},append:function(){var t=this.parseInsertArgs(arguments);return this.insert(this.state.totalTargets,t.command.collection,t.animate,t.callback)},remove:function(){var t=this.parseRemoveArgs(arguments);return this.multimix({remove:t.command},t.animate,t.callback)},getConfig:function(t){var e=null;return e=t?m.getProperty(this.config,t):this.config,this.callFilters("valueGetConfig",e,arguments)},configure:function(t){this.callActions("beforeConfigure",arguments),m.extend(this.config,t,!0,!0),this.callActions("afterConfigure",arguments)},getState:function(){var t;return t=new p.State,m.extend(t,this.state),m.freeze(t),this.callFilters("stateGetState",t,arguments)},forceRefresh:function(){this.indexTargets()},forceRender:function(){var t=this,e=null,i=null,n="";for(n in t.cache)(i=(e=t.cache[n]).render(e.data))!==e.dom.el&&(e.isInDom&&(e.unbindEvents(),t.dom.parent.replaceChild(i,e.dom.el)),e.isShown||(i.style.display="none"),e.dom.el=i,e.isInDom&&e.bindEvents());t.state=t.buildState(t.lastOperation)},destroy:function(t){var e=this,i=null,n=null,a=0;for(e.callActions("beforeDestroy",arguments),a=0;i=e.controls[a];a++)i.removeBinding(e);for(a=0;n=e.targets[a];a++)t&&n.show(),n.unbindEvents();e.dom.container.id.match(/^MixItUp/)&&e.dom.container.removeAttribute("id"),delete p.instances[e.id],e.callActions("afterDestroy",arguments)}}),p.IMoveData=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.posIn=null,this.posOut=null,this.operation=null,this.callback=null,this.statusChange="",this.duration=-1,this.staggerIndex=-1,this.callActions("afterConstruct"),m.seal(this)},p.BaseStatic.call(p.IMoveData),p.IMoveData.prototype=Object.create(p.Base.prototype),p.IMoveData.prototype.constructor=p.IMoveData,p.TargetDom=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.el=null,this.callActions("afterConstruct"),m.seal(this)},p.BaseStatic.call(p.TargetDom),p.TargetDom.prototype=Object.create(p.Base.prototype),p.TargetDom.prototype.constructor=p.TargetDom,p.Target=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.id="",this.sortString="",this.mixer=null,this.callback=null,this.isShown=!1,this.isBound=!1,this.isExcluded=!1,this.isInDom=!1,this.handler=null,this.operation=null,this.data=null,this.dom=new p.TargetDom,this.callActions("afterConstruct"),m.seal(this)},p.BaseStatic.call(p.Target),p.Target.prototype=Object.create(p.Base.prototype),m.extend(p.Target.prototype,{constructor:p.Target,init:function(t,e,i){var n=this,a="";if(n.callActions("beforeInit",arguments),n.mixer=e,t||(t=n.render(i)),n.cacheDom(t),n.bindEvents(),"none"!==n.dom.el.style.display&&(n.isShown=!0),i&&e.config.data.uidKey){if(void 0===(a=i[e.config.data.uidKey])||a.toString().length<1)throw new TypeError(p.messages.errorDatasetInvalidUidKey({uidKey:e.config.data.uidKey}));n.id=a,n.data=i,e.cache[a]=n}n.callActions("afterInit",arguments)},render:function(t){var e,i=null,n=null,a=null;if(this.callActions("beforeRender",arguments),"function"!=typeof(i=this.callFilters("renderRender",this.mixer.config.render.target,arguments)))throw new TypeError(p.messages.errorDatasetRendererNotSet());return(e=i(t))&&"object"==typeof e&&m.isElement(e)?n=e:"string"==typeof e&&((a=document.createElement("div")).innerHTML=e,n=a.firstElementChild),this.callFilters("elRender",n,arguments)},cacheDom:function(t){this.callActions("beforeCacheDom",arguments),this.dom.el=t,this.callActions("afterCacheDom",arguments)},getSortString:function(t){var e=this.dom.el.getAttribute("data-"+t)||"";this.callActions("beforeGetSortString",arguments),e=isNaN(1*e)?e.toLowerCase():1*e,this.sortString=e,this.callActions("afterGetSortString",arguments)},show:function(){var t=this;t.callActions("beforeShow",arguments),t.isShown||(t.dom.el.style.display="",t.isShown=!0),t.callActions("afterShow",arguments)},hide:function(){var t=this;t.callActions("beforeHide",arguments),t.isShown&&(t.dom.el.style.display="none",t.isShown=!1),t.callActions("afterHide",arguments)},move:function(t){var e=this;e.callActions("beforeMove",arguments),e.isExcluded||e.mixer.targetsMoved++,e.applyStylesIn(t),requestAnimationFrame(function(){e.applyStylesOut(t)}),e.callActions("afterMove",arguments)},applyTween:function(t,e){var i=this,n="",a=null,s=t.posIn,o=[],r=new p.StyleData,l=-1;for(i.callActions("beforeApplyTween",arguments),r.x=s.x,r.y=s.y,0===e?i.hide():i.isShown||i.show(),l=0;n=p.features.TWEENABLE[l];l++)if(a=t.tweenData[n],"x"===n){if(!a)continue;r.x=s.x+a*e}else if("y"===n){if(!a)continue;r.y=s.y+a*e}else if(a instanceof p.TransformData){if(!a.value)continue;r[n].value=s[n].value+a.value*e,r[n].unit=a.unit,o.push(n+"("+r[n].value+a.unit+")")}else{if(!a)continue;r[n]=s[n]+a*e,i.dom.el.style[n]=r[n]}(r.x||r.y)&&o.unshift("translate("+r.x+"px, "+r.y+"px)"),o.length&&(i.dom.el.style[p.features.transformProp]=o.join(" ")),i.callActions("afterApplyTween",arguments)},applyStylesIn:function(t){var e=this,i=t.posIn,n=1!==e.mixer.effectsIn.opacity,a=[];e.callActions("beforeApplyStylesIn",arguments),a.push("translate("+i.x+"px, "+i.y+"px)"),e.mixer.config.animation.animateResizeTargets&&("show"!==t.statusChange&&(e.dom.el.style.width=i.width+"px",e.dom.el.style.height=i.height+"px"),e.dom.el.style.marginRight=i.marginRight+"px",e.dom.el.style.marginBottom=i.marginBottom+"px"),n&&(e.dom.el.style.opacity=i.opacity),"show"===t.statusChange&&(a=a.concat(e.mixer.transformIn)),e.dom.el.style[p.features.transformProp]=a.join(" "),e.callActions("afterApplyStylesIn",arguments)},applyStylesOut:function(t){var e=this,i=[],n=[],a=e.mixer.config.animation.animateResizeTargets,s=void 0!==e.mixer.effectsIn.opacity;if(e.callActions("beforeApplyStylesOut",arguments),i.push(e.writeTransitionRule(p.features.transformRule,t.staggerIndex)),"none"!==t.statusChange&&i.push(e.writeTransitionRule("opacity",t.staggerIndex,t.duration)),a&&(i.push(e.writeTransitionRule("width",t.staggerIndex,t.duration)),i.push(e.writeTransitionRule("height",t.staggerIndex,t.duration)),i.push(e.writeTransitionRule("margin",t.staggerIndex,t.duration))),!t.callback)return e.mixer.targetsImmovable++,void(e.mixer.targetsMoved===e.mixer.targetsImmovable&&e.mixer.cleanUp(t.operation));switch(e.operation=t.operation,e.callback=t.callback,!e.isExcluded&&e.mixer.targetsBound++,e.isBound=!0,e.applyTransition(i),a&&0<t.posOut.width&&0<t.posOut.height&&(e.dom.el.style.width=t.posOut.width+"px",e.dom.el.style.height=t.posOut.height+"px",e.dom.el.style.marginRight=t.posOut.marginRight+"px",e.dom.el.style.marginBottom=t.posOut.marginBottom+"px"),e.mixer.config.animation.nudge||"hide"!==t.statusChange||n.push("translate("+t.posOut.x+"px, "+t.posOut.y+"px)"),t.statusChange){case"hide":s&&(e.dom.el.style.opacity=e.mixer.effectsOut.opacity),n=n.concat(e.mixer.transformOut);break;case"show":s&&(e.dom.el.style.opacity=1)}(e.mixer.config.animation.nudge||!e.mixer.config.animation.nudge&&"hide"!==t.statusChange)&&n.push("translate("+t.posOut.x+"px, "+t.posOut.y+"px)"),e.dom.el.style[p.features.transformProp]=n.join(" "),e.callActions("afterApplyStylesOut",arguments)},writeTransitionRule:function(t,e,i){var n,a=this.getDelay(e);return n=t+" "+(0<i?i:this.mixer.config.animation.duration)+"ms "+a+"ms "+("opacity"===t?"linear":this.mixer.config.animation.easing),this.callFilters("ruleWriteTransitionRule",n,arguments)},getDelay:function(t){var e,i=this;return"function"==typeof i.mixer.config.animation.staggerSequence&&(t=i.mixer.config.animation.staggerSequence.call(i,t,i.state)),e=i.mixer.staggerDuration?t*i.mixer.staggerDuration:0,i.callFilters("delayGetDelay",e,arguments)},applyTransition:function(t){var e=t.join(", ");this.callActions("beforeApplyTransition",arguments),this.dom.el.style[p.features.transitionProp]=e,this.callActions("afterApplyTransition",arguments)},handleTransitionEnd:function(t){var e=this,i=t.propertyName,n=e.mixer.config.animation.animateResizeTargets;e.callActions("beforeHandleTransitionEnd",arguments),e.isBound&&t.target.matches(e.mixer.config.selectors.target)&&(-1<i.indexOf("transform")||-1<i.indexOf("opacity")||n&&-1<i.indexOf("height")||n&&-1<i.indexOf("width")||n&&-1<i.indexOf("margin"))&&(e.callback.call(e,e.operation),e.isBound=!1,e.callback=null,e.operation=null),e.callActions("afterHandleTransitionEnd",arguments)},eventBus:function(t){switch(this.callActions("beforeEventBus",arguments),t.type){case"webkitTransitionEnd":case"transitionend":this.handleTransitionEnd(t)}this.callActions("afterEventBus",arguments)},unbindEvents:function(){var t=this;t.callActions("beforeUnbindEvents",arguments),m.off(t.dom.el,"webkitTransitionEnd",t.handler),m.off(t.dom.el,"transitionend",t.handler),t.callActions("afterUnbindEvents",arguments)},bindEvents:function(){var t,e=this;e.callActions("beforeBindEvents",arguments),t="webkit"===p.features.transitionPrefix?"webkitTransitionEnd":"transitionend",e.handler=function(t){return e.eventBus(t)},m.on(e.dom.el,t,e.handler),e.callActions("afterBindEvents",arguments)},getPosData:function(t){var e=this,i={},n=null,a=new p.StyleData;return e.callActions("beforeGetPosData",arguments),a.x=e.dom.el.offsetLeft,a.y=e.dom.el.offsetTop,(e.mixer.config.animation.animateResizeTargets||t)&&(n=e.dom.el.getBoundingClientRect(),a.top=n.top,a.right=n.right,a.bottom=n.bottom,a.left=n.left,a.width=n.width,a.height=n.height),e.mixer.config.animation.animateResizeTargets&&(i=h.getComputedStyle(e.dom.el),a.marginBottom=parseFloat(i.marginBottom),a.marginRight=parseFloat(i.marginRight)),e.callFilters("posDataGetPosData",a,arguments)},cleanUp:function(){var t=this;t.callActions("beforeCleanUp",arguments),t.dom.el.style[p.features.transformProp]="",t.dom.el.style[p.features.transitionProp]="",t.dom.el.style.opacity="",t.mixer.config.animation.animateResizeTargets&&(t.dom.el.style.width="",t.dom.el.style.height="",t.dom.el.style.marginRight="",t.dom.el.style.marginBottom=""),t.callActions("afterCleanUp",arguments)}}),p.Collection=function(t){var e=null,i=-1;for(this.callActions("beforeConstruct"),i=0;e=t[i];i++)this[i]=e;this.length=t.length,this.callActions("afterConstruct"),m.freeze(this)},p.BaseStatic.call(p.Collection),p.Collection.prototype=Object.create(p.Base.prototype),m.extend(p.Collection.prototype,{constructor:p.Collection,mixitup:function(t){var e=null,i=Array.prototype.slice.call(arguments),n=[],a=-1;for(this.callActions("beforeMixitup"),i.shift(),a=0;e=this[a];a++)n.push(e[t].apply(e,i));return this.callFilters("promiseMixitup",m.all(n,p.libraries),arguments)}}),p.Operation=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.id="",this.args=[],this.command=null,this.showPosData=[],this.toHidePosData=[],this.startState=null,this.newState=null,this.docState=null,this.willSort=!1,this.willChangeLayout=!1,this.hasEffect=!1,this.hasFailed=!1,this.triggerElement=null,this.show=[],this.hide=[],this.matching=[],this.toShow=[],this.toHide=[],this.toMove=[],this.toRemove=[],this.startOrder=[],this.newOrder=[],this.startSort=null,this.newSort=null,this.startFilter=null,this.newFilter=null,this.startDataset=null,this.newDataset=null,this.viewportDeltaX=0,this.viewportDeltaY=0,this.startX=0,this.startY=0,this.startHeight=0,this.startWidth=0,this.newX=0,this.newY=0,this.newHeight=0,this.newWidth=0,this.startContainerClassName="",this.startDisplay="",this.newContainerClassName="",this.newDisplay="",this.callActions("afterConstruct"),m.seal(this)},p.BaseStatic.call(p.Operation),p.Operation.prototype=Object.create(p.Base.prototype),p.Operation.prototype.constructor=p.Operation,p.State=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.id="",this.activeFilter=null,this.activeSort=null,this.activeContainerClassName="",this.container=null,this.targets=[],this.hide=[],this.show=[],this.matching=[],this.totalTargets=-1,this.totalShow=-1,this.totalHide=-1,this.totalMatching=-1,this.hasFailed=!1,this.triggerElement=null,this.activeDataset=null,this.callActions("afterConstruct"),m.seal(this)},p.BaseStatic.call(p.State),p.State.prototype=Object.create(p.Base.prototype),p.State.prototype.constructor=p.State,p.UserInstruction=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.command={},this.animate=!1,this.callback=null,this.callActions("afterConstruct"),m.seal(this)},p.BaseStatic.call(p.UserInstruction),p.UserInstruction.prototype=Object.create(p.Base.prototype),p.UserInstruction.prototype.constructor=p.UserInstruction,p.Messages=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.ERROR_FACTORY_INVALID_CONTAINER="[MixItUp] An invalid selector or element reference was passed to the mixitup factory function",this.ERROR_FACTORY_CONTAINER_NOT_FOUND="[MixItUp] The provided selector yielded no container element",this.ERROR_CONFIG_INVALID_ANIMATION_EFFECTS="[MixItUp] Invalid value for `animation.effects`",this.ERROR_CONFIG_INVALID_CONTROLS_SCOPE="[MixItUp] Invalid value for `controls.scope`",this.ERROR_CONFIG_INVALID_PROPERTY='[MixitUp] Invalid configuration object property "${erroneous}"${suggestion}',this.ERROR_CONFIG_INVALID_PROPERTY_SUGGESTION='. Did you mean "${probableMatch}"?',this.ERROR_CONFIG_DATA_UID_KEY_NOT_SET="[MixItUp] To use the dataset API, a UID key must be specified using `data.uidKey`",this.ERROR_DATASET_INVALID_UID_KEY='[MixItUp] The specified UID key "${uidKey}" is not present on one or more dataset items',this.ERROR_DATASET_DUPLICATE_UID='[MixItUp] The UID "${uid}" was found on two or more dataset items. UIDs must be unique.',this.ERROR_INSERT_INVALID_ARGUMENTS="[MixItUp] Please provider either an index or a sibling and position to insert, not both",this.ERROR_INSERT_PREEXISTING_ELEMENT="[MixItUp] An element to be inserted already exists in the container",this.ERROR_FILTER_INVALID_ARGUMENTS="[MixItUp] Please provide either a selector or collection `.filter()`, not both",this.ERROR_DATASET_NOT_SET="[MixItUp] To use the dataset API with pre-rendered targets, a starting dataset must be set using `load.dataset`",this.ERROR_DATASET_PRERENDERED_MISMATCH="[MixItUp] `load.dataset` does not match pre-rendered targets",this.ERROR_DATASET_RENDERER_NOT_SET="[MixItUp] To insert an element via the dataset API, a target renderer function must be provided to `render.target`",this.ERROR_SORT_NON_EXISTENT_ELEMENT="[MixItUp] An element to be sorted does not already exist in the container",this.WARNING_FACTORY_PREEXISTING_INSTANCE="[MixItUp] WARNING: This element already has an active MixItUp instance. The provided configuration object will be ignored. If you wish to perform additional methods on this instance, please create a reference.",this.WARNING_INSERT_NO_ELEMENTS="[MixItUp] WARNING: No valid elements were passed to `.insert()`",this.WARNING_REMOVE_NO_ELEMENTS="[MixItUp] WARNING: No valid elements were passed to `.remove()`",this.WARNING_MULTIMIX_INSTANCE_QUEUE_FULL="[MixItUp] WARNING: An operation was requested but the MixItUp instance was busy. The operation was rejected because the queue is full or queuing is disabled.",this.WARNING_GET_OPERATION_INSTANCE_BUSY="[MixItUp] WARNING: Operations can be be created while the MixItUp instance is busy.",this.WARNING_NO_PROMISE_IMPLEMENTATION="[MixItUp] WARNING: No Promise implementations could be found. If you wish to use promises with MixItUp please install an ES6 Promise polyfill.",this.WARNING_INCONSISTENT_SORTING_ATTRIBUTES='[MixItUp] WARNING: The requested sorting data attribute "${attribute}" was not present on one or more target elements which may product unexpected sort output',this.callActions("afterConstruct"),this.compileTemplates(),m.seal(this)},p.BaseStatic.call(p.Messages),p.Messages.prototype=Object.create(p.Base.prototype),p.Messages.prototype.constructor=p.Messages,p.Messages.prototype.compileTemplates=function(){var t="",e="";for(t in this)"string"==typeof(e=this[t])&&(this[m.camelCase(t)]=m.template(e))},p.messages=new p.Messages,p.Facade=function(t){p.Base.call(this),this.callActions("beforeConstruct",arguments),this.configure=t.configure.bind(t),this.show=t.show.bind(t),this.hide=t.hide.bind(t),this.filter=t.filter.bind(t),this.toggleOn=t.toggleOn.bind(t),this.toggleOff=t.toggleOff.bind(t),this.sort=t.sort.bind(t),this.changeLayout=t.changeLayout.bind(t),this.multimix=t.multimix.bind(t),this.dataset=t.dataset.bind(t),this.tween=t.tween.bind(t),this.insert=t.insert.bind(t),this.insertBefore=t.insertBefore.bind(t),this.insertAfter=t.insertAfter.bind(t),this.prepend=t.prepend.bind(t),this.append=t.append.bind(t),this.remove=t.remove.bind(t),this.destroy=t.destroy.bind(t),this.forceRefresh=t.forceRefresh.bind(t),this.forceRender=t.forceRender.bind(t),this.isMixing=t.isMixing.bind(t),this.getOperation=t.getOperation.bind(t),this.getConfig=t.getConfig.bind(t),this.getState=t.getState.bind(t),this.callActions("afterConstruct",arguments),m.freeze(this),m.seal(this)},p.BaseStatic.call(p.Facade),p.Facade.prototype=Object.create(p.Base.prototype),p.Facade.prototype.constructor=p.Facade,"object"==typeof exports&&"object"==typeof module?module.exports=p:"function"==typeof define&&define.amd?define(function(){return p}):void 0!==h.mixitup&&"function"==typeof h.mixitup||(h.mixitup=p),p.BaseStatic.call(p.constructor),p.NAME="mixitup",p.CORE_VERSION="3.3.1"}(window),function(t){"use strict";var e=function(g){var f=g.h;if(!g.CORE_VERSION||!f.compareVersions(e.REQUIRE_CORE_VERSION,g.CORE_VERSION))throw new Error("[MixItUp Pagination] MixItUp Pagination "+e.EXTENSION_VERSION+" requires at least MixItUp "+e.REQUIRE_CORE_VERSION);g.ConfigClassNames.registerAction("afterConstruct","pagination",function(){this.elementPager="control",this.elementPageList="page-list",this.elementPageStats="page-stats",this.modifierFirst="first",this.modifierLast="last",this.modifierPrev="prev",this.modifierNext="next",this.modifierTruncationMarker="truncation-marker"}),g.ConfigLoad.registerAction("afterConstruct","pagination",function(){this.page=1}),g.ConfigPagination=function(){this.generatePageList=!0,this.generatePageStats=!0,this.maintainActivePage=!0,this.loop=!1,this.hidePageListIfSinglePage=!1,this.hidePageStatsIfSinglePage=!1,this.limit=-1,this.maxPagers=5,f.seal(this)},g.ConfigRender.registerAction("afterConstruct","pagination",function(){this.pager=null,this.pageStats=null}),g.ConfigSelectors.registerAction("afterConstruct","pagination",function(){this.pageList=".mixitup-page-list",this.pageStats=".mixitup-page-stats"}),g.ConfigTemplates.registerAction("afterConstruct","pagination",function(){this.pager='<button type="button" class="${classNames}" data-page="${pageNumber}">${pageNumber}</button>',this.pagerPrev='<button type="button" class="${classNames}" data-page="prev">&laquo;</button>',this.pagerNext='<button type="button" class="${classNames}" data-page="next">&raquo;</button>',this.pagerTruncationMarker='<span class="${classNames}">&hellip;</span>',this.pageStats="${startPageAt} to ${endPageAt} of ${totalTargets}",this.pageStatsSingle="${startPageAt} of ${totalTargets}",this.pageStatsFail="None found"}),g.Config.registerAction("beforeConstruct","pagination",function(){this.pagination=new g.ConfigPagination}),g.ModelPager=function(){this.pageNumber=-1,this.classNames="",this.classList=[],this.isDisabled=!1,this.isPrev=!1,this.isNext=!1,this.isPageLink=!1,this.isTruncationMarker=!1,f.seal(this)},g.ModelPageStats=function(){this.startPageAt=-1,this.endPageAt=-1,this.totalTargets=-1,f.seal(this)},g.UiClassNames.registerAction("afterConstruct","pagination",function(){this.first="",this.last="",this.prev="",this.next="",this.first="",this.last="",this.truncated="",this.truncationMarker=""}),g.controlDefinitions.push(new g.ControlDefinition("pager","[data-page]",!0,"pageListEls")),g.Control.registerFilter("commandsHandleClick","pagination",function(t,e){var i=this,n={},a="",s=null,o=null,r=-1;if(!i.selector||"[data-page]"!==i.selector)return t;for(o=f.closestParent(e.target,i.selector,!0,i.bound[0].dom.document),r=0;s=i.bound[r];r++)n=t[r],!s.config.pagination||s.config.pagination.limit<0||s.config.pagination.limit===1/0?t[r]=null:!o||f.hasClass(o,s.classNamesPager.active)||f.hasClass(o,s.classNamesPager.disabled)?t[r]=null:(a=o.getAttribute("data-page"),n.paginate="prev"===a?"prev":"next"===a?"next":parseInt(a),s.lastClicked&&(s.lastClicked=o));return t}),g.CommandMultimix.registerAction("afterConstruct","pagination",function(){this.paginate=null}),g.CommandPaginate=function(){this.page=-1,this.limit=-1,this.action="",this.anchor=null,f.seal(this)},g.Operation.registerAction("afterConstruct","pagination",function(){this.startPagination=null,this.newPagination=null,this.startTotalPages=-1,this.newTotalPages=-1}),g.State.registerAction("afterConstruct","pagination",function(){this.activePagination=null,this.totalPages=-1}),g.MixerDom.registerAction("afterConstruct","pagination",function(){this.pageListEls=[],this.pageStatsEls=[]}),g.Mixer.registerAction("afterConstruct","pagination",function(){this.classNamesPager=new g.UiClassNames,this.classNamesPageList=new g.UiClassNames,this.classNamesPageStats=new g.UiClassNames}),g.Mixer.registerAction("afterAttach","pagination",function(){var t=this,e=null,i=-1;if(!(t.config.pagination.limit<0)){if(t.classNamesPager.base=f.getClassname(t.config.classNames,"pager"),t.classNamesPager.active=f.getClassname(t.config.classNames,"pager",t.config.classNames.modifierActive),t.classNamesPager.disabled=f.getClassname(t.config.classNames,"pager",t.config.classNames.modifierDisabled),t.classNamesPager.first=f.getClassname(t.config.classNames,"pager",t.config.classNames.modifierFirst),t.classNamesPager.last=f.getClassname(t.config.classNames,"pager",t.config.classNames.modifierLast),t.classNamesPager.prev=f.getClassname(t.config.classNames,"pager",t.config.classNames.modifierPrev),t.classNamesPager.next=f.getClassname(t.config.classNames,"pager",t.config.classNames.modifierNext),t.classNamesPager.truncationMarker=f.getClassname(t.config.classNames,"pager",t.config.classNames.modifierTruncationMarker),t.classNamesPageList.base=f.getClassname(t.config.classNames,"page-list"),t.classNamesPageList.disabled=f.getClassname(t.config.classNames,"page-list",t.config.classNames.modifierDisabled),t.classNamesPageStats.base=f.getClassname(t.config.classNames,"page-stats"),t.classNamesPageStats.disabled=f.getClassname(t.config.classNames,"page-stats",t.config.classNames.modifierDisabled),t.config.pagination.generatePageList&&0<t.dom.pageListEls.length)for(i=0;e=t.dom.pageListEls[i];i++)t.renderPageListEl(e,t.lastOperation);if(t.config.pagination.generatePageStats&&0<t.dom.pageStatsEls.length)for(i=0;e=t.dom.pageStatsEls[i];i++)t.renderPageStatsEl(e,t.lastOperation)}}),g.Mixer.registerFilter("operationGetInitialState","pagination",function(t,e){return this.config.pagination.limit<0||(t.newPagination=e.activePagination),t}),g.Mixer.registerFilter("stateGetInitialState","pagination",function(t){return this.config.pagination.limit<0||(t.activePagination=new g.CommandPaginate,t.activePagination.page=this.config.load.page,t.activePagination.limit=this.config.pagination.limit),t}),g.Mixer.registerAction("afterGetFinalMixData","pagination",function(){this.config.pagination.limit<0||"number"==typeof this.config.pagination.maxPagers&&(this.config.pagination.maxPagers=Math.max(5,this.config.pagination.maxPagers))}),g.Mixer.registerAction("afterCacheDom","pagination",function(){var t=this,e=null;if(!(t.config.pagination.limit<0)&&t.config.pagination.generatePageList){switch(t.config.controls.scope){case"local":e=t.dom.container;break;case"global":e=t.dom.document;break;default:throw new Error(g.messages.ERROR_CONFIG_INVALID_CONTROLS_SCOPE)}t.dom.pageListEls=e.querySelectorAll(t.config.selectors.pageList),t.dom.pageStatsEls=e.querySelectorAll(t.config.selectors.pageStats)}}),g.Mixer.registerFilter("stateBuildState","pagination",function(t,e){return this.config.pagination.limit<0||(t.activePagination=e.newPagination,t.totalPages=e.newTotalPages),t}),g.Mixer.registerFilter("instructionParseMultimixArgs","pagination",function(t){return this.config.pagination.limit<0||!t.command.paginate||t.command.paginate instanceof g.CommandPaginate||(t.command.paginate=this.parsePaginateArgs([t.command.paginate]).command),t}),g.Mixer.registerAction("afterFilterOperation","pagination",function(t){var e=-1,i=-1,n=[],a=[],s=null,o=-1,r=-1;if(!(this.config.pagination.limit<0)){if(t.newTotalPages=t.newPagination.limit?Math.max(Math.ceil(t.matching.length/t.newPagination.limit),1):1,this.config.pagination.maintainActivePage&&(t.newPagination.page=t.newPagination.page>t.newTotalPages?t.newTotalPages:t.newPagination.page),this.config.pagination.limit=t.newPagination.limit,t.newPagination.anchor){for(r=0;(s=t.matching[r])&&s.dom.el!==t.newPagination.anchor;r++);i=(e=r)+t.newPagination.limit-1}else e=t.newPagination.limit*(t.newPagination.page-1),i=t.newPagination.limit*t.newPagination.page-1,isNaN(e)&&(e=0);if(!(t.newPagination.limit<0)){for(r=0;s=t.show[r];r++)e<=r&&r<=i?n.push(s):a.push(s);for(t.show=n,r=0;s=t.toHide[r];r++)s.isShown||(t.toHide.splice(r,1),s.isShown=!1,r--);for(r=0;s=a[r];r++)t.hide.push(s),-1<(o=t.toShow.indexOf(s))&&t.toShow.splice(o,1),s.isShown&&t.toHide.push(s)}}}),g.Mixer.registerFilter("operationUnmappedGetOperation","pagination",function(t,e){var i=this;return i.config.pagination.limit<0||(t.startState=i.state,t.startPagination=i.state.activePagination,t.startTotalPages=i.state.totalPages,t.newPagination=new g.CommandPaginate,t.newPagination.limit=t.startPagination.limit,t.newPagination.page=t.startPagination.page,e.paginate?i.parsePaginateCommand(e.paginate,t):(e.filter||e.sort)&&(f.extend(t.newPagination,t.startPagination),i.config.pagination.maintainActivePage?t.newPagination.page=i.state.activePagination.page:t.newPagination.page=1)),t}),g.Mixer.registerFilter("operationMappedGetOperation","pagination",function(t,e,i){var n=this,a=null,s=-1;if(n.config.pagination.limit<0)return t;if(i)return t;if(n.config.pagination.generatePageList&&0<n.dom.pageListEls.length)for(s=0;a=n.dom.pageListEls[s];s++)n.renderPageListEl(a,t);if(n.config.pagination.generatePageStats&&0<n.dom.pageStatsEls.length)for(s=0;a=n.dom.pageStatsEls[s];s++)n.renderPageStatsEl(a,t);return t}),g.Mixer.extend({parsePaginateCommand:function(t,e){if(-1<t.page){if(0===t.page)throw new Error(g.messages.ERROR_PAGINATE_INDEX_RANGE);e.newPagination.page=Math.max(1,Math.min(1/0,t.page))}else"next"===t.action?e.newPagination.page=this.getNextPage():"prev"===t.action?e.newPagination.page=this.getPrevPage():t.anchor&&(e.newPagination.anchor=t.anchor);-1<t.limit&&(e.newPagination.limit=t.limit),e.newPagination.limit!==e.startPagination.limit&&(e.newTotalPages=e.newPagination.limit?Math.max(Math.ceil(e.startState.matching.length/e.newPagination.limit),1):1),(e.newPagination.limit<=0||e.newPagination.limit===1/0)&&(e.newPagination.page=1)},getNextPage:function(){var t=-1;return(t=this.state.activePagination.page+1)>this.state.totalPages&&(t=this.config.pagination.loop?1:this.state.activePagination.page),t},getPrevPage:function(){var t=-1;return(t=this.state.activePagination.page-1)<1&&(t=this.config.pagination.loop?this.state.totalPages:this.state.activePagination.page),t},renderPageListEl:function(t,e){var i,n,a,s=this,o="",r=[],l=null,c=null,u=[],d=!1,h=!1,p=null,m=-1;if(e.newPagination.limit<0||e.newPagination.limit===1/0||e.newTotalPages<2&&s.config.pagination.hidePageListIfSinglePage)return t.innerHTML="",void f.addClass(t,s.classNamesPageList.disabled);for(i=e.newPagination.page-1,c="function"==typeof(c=s.config.render.pager)?c:null,s.config.pagination.maxPagers<1/0&&e.newTotalPages>s.config.pagination.maxPagers&&(u=s.getAllowedIndices(e)),(l=new g.ModelPager).isPrev=!0,l.classList.push(s.classNamesPager.base,s.classNamesPager.prev),1!==e.newPagination.page||s.config.pagination.loop||(l.classList.push(s.classNamesPager.disabled),l.isDisabled=!0),l.classNames=l.classList.join(" "),o=c?c(l):f.template(s.config.templates.pagerPrev)(l),r.push(o),m=0;m<e.newTotalPages;m++)(o=s.renderPager(m,e,u))||m<i&&d||i<m&&h?o&&r.push(o):((l=new g.ModelPager).isTruncationMarker=!0,l.classList.push(s.classNamesPager.base,s.classNamesPager.truncationMarker),l.classNames=l.classList.join(" "),o=c?c(l):f.template(s.config.templates.pagerTruncationMarker)(l),r.push(o),m<i&&(d=!0),i<m&&(h=!0));for((l=new g.ModelPager).isNext=!0,l.classList.push(s.classNamesPager.base,s.classNamesPager.next),e.newPagination.page!==e.newTotalPages||s.config.pagination.loop||l.classList.push(s.classNamesPager.disabled),l.classNames=l.classList.join(" "),o=c?c(l):f.template(s.config.templates.pagerNext)(l),r.push(o),a=r.join(" "),t.innerHTML=a,n=t.querySelectorAll("."+s.classNamesPager.disabled),m=0;p=n[m];m++)"boolean"==typeof p.disabled&&(p.disabled=!0);d||h?f.addClass(t,s.classNamesPageList.truncated):f.removeClass(t,s.classNamesPageList.truncated),1<e.newTotalPages?f.removeClass(t,s.classNamesPageList.disabled):f.addClass(t,s.classNamesPageList.disabled)},getAllowedIndices:function(t){var e,i,n=t.newPagination.page-1,a=t.newTotalPages-1,s=[],o=-1,r=-1,l=-1;for(s.push(0),o=this.config.pagination.maxPagers-2,r=0,(e=n-Math.ceil((o-1)/2))<1&&(r=1-e),a-1<(i=n+Math.floor((o-1)/2))&&(r=a-1-i),l=e+r;o;)s.push(l),l++,o--;return s.push(a),s},renderPager:function(t,e,i){var n=this,a=null,s=e.newPagination.page-1,o=new g.ModelPager;return n.config.pagination.maxPagers<1/0&&i.length&&i.indexOf(t)<0?"":(a="function"==typeof(a=n.config.render.pager)?a:null,o.isPageLink=!0,o.classList.push(n.classNamesPager.base),0===t&&o.classList.push(n.classNamesPager.first),t===e.newTotalPages-1&&o.classList.push(n.classNamesPager.last),t===s&&o.classList.push(n.classNamesPager.active),o.classNames=o.classList.join(" "),o.pageNumber=t+1,a?a(o):f.template(n.config.templates.pager)(o))},renderPageStatsEl:function(t,e){var i=this,n=new g.ModelPageStats,a=null,s="",o="";if(e.newPagination.limit<0||e.newPagination.limit===1/0||e.newTotalPages<2&&i.config.pagination.hidePageStatsIfSinglePage)return t.innerHTML="",void f.addClass(t,i.classNamesPageStats.disabled);a="function"==typeof(a=i.config.render.pageStats)?a:null,n.totalTargets=e.matching.length,o=n.totalTargets?1===e.newPagination.limit?i.config.templates.pageStatsSingle:i.config.templates.pageStats:i.config.templates.pageStatsFail,n.totalTargets&&0<e.newPagination.limit?(n.startPageAt=(e.newPagination.page-1)*e.newPagination.limit+1,n.endPageAt=Math.min(n.startPageAt+e.newPagination.limit-1,n.totalTargets)):n.startPageAt=n.endPageAt=0,s=a?a(n):f.template(o)(n),t.innerHTML=s,n.totalTargets?f.removeClass(t,i.classNamesPageStats.disabled):f.addClass(t,i.classNamesPageStats.disabled)},parsePaginateArgs:function(t){var e=new g.UserInstruction,i=null,n=-1;for(e.animate=this.config.animation.enable,e.command=new g.CommandPaginate,n=0;n<t.length;n++)null!==(i=t[n])&&("object"==typeof i&&f.isElement(i,this.dom.document)?e.command.anchor=i:i instanceof g.CommandPaginate||"object"==typeof i?f.extend(e.command,i):"number"==typeof i?e.command.page=i:"string"!=typeof i||isNaN(parseInt(i))?"string"==typeof i?e.command.action=i:"boolean"==typeof i?e.animate=i:"function"==typeof i&&(e.callback=i):e.command.page=parseInt(i));return f.freeze(e),e},paginate:function(){var t=this.parsePaginateArgs(arguments);return this.multimix({paginate:t.command},t.animate,t.callback)},nextPage:function(){var t=this.parsePaginateArgs(arguments);return this.multimix({paginate:{action:"next"}},t.animate,t.callback)},prevPage:function(){var t=this.parsePaginateArgs(arguments);return this.multimix({paginate:{action:"prev"}},t.animate,t.callback)}}),g.Facade.registerAction("afterConstruct","pagination",function(t){this.paginate=t.paginate.bind(t),this.nextPage=t.nextPage.bind(t),this.prevPage=t.prevPage.bind(t)})};if(e.TYPE="mixitup-extension",e.NAME="mixitup-pagination",e.EXTENSION_VERSION="3.2.0",e.REQUIRE_CORE_VERSION="^3.1.8","object"==typeof exports&&"object"==typeof module)module.exports=e;else if("function"==typeof define&&define.amd)define(function(){return e});else{if(!t.mixitup||"function"!=typeof t.mixitup)throw new Error("[MixItUp Pagination] MixItUp core not found");e(t.mixitup)}}(window),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(window.jQuery||window.Zepto)}(function(u){var d,n,h,a,p,e,l="Close",c="BeforeClose",m="MarkupParse",g="Open",f=".mfp",v="mfp-ready",i="mfp-removing",o="mfp-prevent-close",t=function(){},r=!!window.jQuery,y=u(window),w=function(t,e){d.ev.on("mfp"+t+f,e)},b=function(t,e,i,n){var a=document.createElement("div");return a.className="mfp-"+t,i&&(a.innerHTML=i),n?e&&e.appendChild(a):(a=u(a),e&&a.appendTo(e)),a},C=function(t,e){d.ev.triggerHandler("mfp"+t,e),d.st.callbacks&&(t=t.charAt(0).toLowerCase()+t.slice(1),d.st.callbacks[t]&&d.st.callbacks[t].apply(d,u.isArray(e)?e:[e]))},x=function(t){return t===e&&d.currTemplate.closeBtn||(d.currTemplate.closeBtn=u(d.st.closeMarkup.replace("%title%",d.st.tClose)),e=t),d.currTemplate.closeBtn},s=function(){u.magnificPopup.instance||((d=new t).init(),u.magnificPopup.instance=d)};t.prototype={constructor:t,init:function(){var t=navigator.appVersion;d.isLowIE=d.isIE8=document.all&&!document.addEventListener,d.isAndroid=/android/gi.test(t),d.isIOS=/iphone|ipad|ipod/gi.test(t),d.supportsTransition=function(){var t=document.createElement("p").style,e=["ms","O","Moz","Webkit"];if(void 0!==t.transition)return!0;for(;e.length;)if(e.pop()+"Transition"in t)return!0;return!1}(),d.probablyMobile=d.isAndroid||d.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),h=u(document),d.popupsCache={}},open:function(t){var e;if(!1===t.isObj){d.items=t.items.toArray(),d.index=0;var i,n=t.items;for(e=0;e<n.length;e++)if((i=n[e]).parsed&&(i=i.el[0]),i===t.el[0]){d.index=e;break}}else d.items=u.isArray(t.items)?t.items:[t.items],d.index=t.index||0;if(!d.isOpen){d.types=[],p="",t.mainEl&&t.mainEl.length?d.ev=t.mainEl.eq(0):d.ev=h,t.key?(d.popupsCache[t.key]||(d.popupsCache[t.key]={}),d.currTemplate=d.popupsCache[t.key]):d.currTemplate={},d.st=u.extend(!0,{},u.magnificPopup.defaults,t),d.fixedContentPos="auto"===d.st.fixedContentPos?!d.probablyMobile:d.st.fixedContentPos,d.st.modal&&(d.st.closeOnContentClick=!1,d.st.closeOnBgClick=!1,d.st.showCloseBtn=!1,d.st.enableEscapeKey=!1),d.bgOverlay||(d.bgOverlay=b("bg").on("click"+f,function(){d.close()}),d.wrap=b("wrap").attr("tabindex",-1).on("click"+f,function(t){d._checkIfClose(t.target)&&d.close()}),d.container=b("container",d.wrap)),d.contentContainer=b("content"),d.st.preloader&&(d.preloader=b("preloader",d.container,d.st.tLoading));var a=u.magnificPopup.modules;for(e=0;e<a.length;e++){var s=a[e];s=s.charAt(0).toUpperCase()+s.slice(1),d["init"+s].call(d)}C("BeforeOpen"),d.st.showCloseBtn&&(d.st.closeBtnInside?(w(m,function(t,e,i,n){i.close_replaceWith=x(n.type)}),p+=" mfp-close-btn-in"):d.wrap.append(x())),d.st.alignTop&&(p+=" mfp-align-top"),d.fixedContentPos?d.wrap.css({overflow:d.st.overflowY,overflowX:"hidden",overflowY:d.st.overflowY}):d.wrap.css({top:y.scrollTop(),position:"absolute"}),(!1===d.st.fixedBgPos||"auto"===d.st.fixedBgPos&&!d.fixedContentPos)&&d.bgOverlay.css({height:h.height(),position:"absolute"}),d.st.enableEscapeKey&&h.on("keyup"+f,function(t){27===t.keyCode&&d.close()}),y.on("resize"+f,function(){d.updateSize()}),d.st.closeOnContentClick||(p+=" mfp-auto-cursor"),p&&d.wrap.addClass(p);var o=d.wH=y.height(),r={};if(d.fixedContentPos&&d._hasScrollBar(o)){var l=d._getScrollbarSize();l&&(r.marginRight=l)}d.fixedContentPos&&(d.isIE7?u("body, html").css("overflow","hidden"):r.overflow="hidden");var c=d.st.mainClass;return d.isIE7&&(c+=" mfp-ie7"),c&&d._addClassToMFP(c),d.updateItemHTML(),C("BuildControls"),u("html").css(r),d.bgOverlay.add(d.wrap).prependTo(d.st.prependTo||u(document.body)),d._lastFocusedEl=document.activeElement,setTimeout(function(){d.content?(d._addClassToMFP(v),d._setFocus()):d.bgOverlay.addClass(v),h.on("focusin"+f,d._onFocusIn)},16),d.isOpen=!0,d.updateSize(o),C(g),t}d.updateItemHTML()},close:function(){d.isOpen&&(C(c),d.isOpen=!1,d.st.removalDelay&&!d.isLowIE&&d.supportsTransition?(d._addClassToMFP(i),setTimeout(function(){d._close()},d.st.removalDelay)):d._close())},_close:function(){C(l);var t=i+" "+v+" ";if(d.bgOverlay.detach(),d.wrap.detach(),d.container.empty(),d.st.mainClass&&(t+=d.st.mainClass+" "),d._removeClassFromMFP(t),d.fixedContentPos){var e={marginRight:""};d.isIE7?u("body, html").css("overflow",""):e.overflow="",u("html").css(e)}h.off("keyup.mfp focusin"+f),d.ev.off(f),d.wrap.attr("class","mfp-wrap").removeAttr("style"),d.bgOverlay.attr("class","mfp-bg"),d.container.attr("class","mfp-container"),!d.st.showCloseBtn||d.st.closeBtnInside&&!0!==d.currTemplate[d.currItem.type]||d.currTemplate.closeBtn&&d.currTemplate.closeBtn.detach(),d.st.autoFocusLast&&d._lastFocusedEl&&u(d._lastFocusedEl).focus(),d.currItem=null,d.content=null,d.currTemplate=null,d.prevHeight=0,C("AfterClose")},updateSize:function(t){if(d.isIOS){var e=document.documentElement.clientWidth/window.innerWidth,i=window.innerHeight*e;d.wrap.css("height",i),d.wH=i}else d.wH=t||y.height();d.fixedContentPos||d.wrap.css("height",d.wH),C("Resize")},updateItemHTML:function(){var t=d.items[d.index];d.contentContainer.detach(),d.content&&d.content.detach(),t.parsed||(t=d.parseEl(d.index));var e=t.type;if(C("BeforeChange",[d.currItem?d.currItem.type:"",e]),d.currItem=t,!d.currTemplate[e]){var i=!!d.st[e]&&d.st[e].markup;C("FirstMarkupParse",i),d.currTemplate[e]=!i||u(i)}a&&a!==t.type&&d.container.removeClass("mfp-"+a+"-holder");var n=d["get"+e.charAt(0).toUpperCase()+e.slice(1)](t,d.currTemplate[e]);d.appendContent(n,e),t.preloaded=!0,C("Change",t),a=t.type,d.container.prepend(d.contentContainer),C("AfterChange")},appendContent:function(t,e){(d.content=t)?d.st.showCloseBtn&&d.st.closeBtnInside&&!0===d.currTemplate[e]?d.content.find(".mfp-close").length||d.content.append(x()):d.content=t:d.content="",C("BeforeAppend"),d.container.addClass("mfp-"+e+"-holder"),d.contentContainer.append(d.content)},parseEl:function(t){var e,i=d.items[t];if(i.tagName?i={el:u(i)}:(e=i.type,i={data:i,src:i.src}),i.el){for(var n=d.types,a=0;a<n.length;a++)if(i.el.hasClass("mfp-"+n[a])){e=n[a];break}i.src=i.el.attr("data-mfp-src"),i.src||(i.src=i.el.attr("href"))}return i.type=e||d.st.type||"inline",i.index=t,i.parsed=!0,d.items[t]=i,C("ElementParse",i),d.items[t]},addGroup:function(e,i){var t=function(t){t.mfpEl=this,d._openClick(t,e,i)};i||(i={});var n="click.magnificPopup";i.mainEl=e,i.items?(i.isObj=!0,e.off(n).on(n,t)):(i.isObj=!1,i.delegate?e.off(n).on(n,i.delegate,t):(i.items=e).off(n).on(n,t))},_openClick:function(t,e,i){if((void 0!==i.midClick?i.midClick:u.magnificPopup.defaults.midClick)||!(2===t.which||t.ctrlKey||t.metaKey||t.altKey||t.shiftKey)){var n=void 0!==i.disableOn?i.disableOn:u.magnificPopup.defaults.disableOn;if(n)if(u.isFunction(n)){if(!n.call(d))return!0}else if(y.width()<n)return!0;t.type&&(t.preventDefault(),d.isOpen&&t.stopPropagation()),i.el=u(t.mfpEl),i.delegate&&(i.items=e.find(i.delegate)),d.open(i)}},updateStatus:function(t,e){if(d.preloader){n!==t&&d.container.removeClass("mfp-s-"+n),e||"loading"!==t||(e=d.st.tLoading);var i={status:t,text:e};C("UpdateStatus",i),t=i.status,e=i.text,d.preloader.html(e),d.preloader.find("a").on("click",function(t){t.stopImmediatePropagation()}),d.container.addClass("mfp-s-"+t),n=t}},_checkIfClose:function(t){if(!u(t).hasClass(o)){var e=d.st.closeOnContentClick,i=d.st.closeOnBgClick;if(e&&i)return!0;if(!d.content||u(t).hasClass("mfp-close")||d.preloader&&t===d.preloader[0])return!0;if(t===d.content[0]||u.contains(d.content[0],t)){if(e)return!0}else if(i&&u.contains(document,t))return!0;return!1}},_addClassToMFP:function(t){d.bgOverlay.addClass(t),d.wrap.addClass(t)},_removeClassFromMFP:function(t){this.bgOverlay.removeClass(t),d.wrap.removeClass(t)},_hasScrollBar:function(t){return(d.isIE7?h.height():document.body.scrollHeight)>(t||y.height())},_setFocus:function(){(d.st.focus?d.content.find(d.st.focus).eq(0):d.wrap).focus()},_onFocusIn:function(t){if(t.target!==d.wrap[0]&&!u.contains(d.wrap[0],t.target))return d._setFocus(),!1},_parseMarkup:function(a,t,e){var s;e.data&&(t=u.extend(e.data,t)),C(m,[a,t,e]),u.each(t,function(t,e){if(void 0===e||!1===e)return!0;if(1<(s=t.split("_")).length){var i=a.find(f+"-"+s[0]);if(0<i.length){var n=s[1];"replaceWith"===n?i[0]!==e[0]&&i.replaceWith(e):"img"===n?i.is("img")?i.attr("src",e):i.replaceWith(u("<img>").attr("src",e).attr("class",i.attr("class"))):i.attr(s[1],e)}}else a.find(f+"-"+t).html(e)})},_getScrollbarSize:function(){if(void 0===d.scrollbarSize){var t=document.createElement("div");t.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(t),d.scrollbarSize=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return d.scrollbarSize}},u.magnificPopup={instance:null,proto:t.prototype,modules:[],open:function(t,e){return s(),(t=t?u.extend(!0,{},t):{}).isObj=!0,t.index=e||0,this.instance.open(t)},close:function(){return u.magnificPopup.instance&&u.magnificPopup.instance.close()},registerModule:function(t,e){e.options&&(u.magnificPopup.defaults[t]=e.options),u.extend(this.proto,e.proto),this.modules.push(t)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},u.fn.magnificPopup=function(t){s();var e=u(this);if("string"==typeof t)if("open"===t){var i,n=r?e.data("magnificPopup"):e[0].magnificPopup,a=parseInt(arguments[1],10)||0;n.items?i=n.items[a]:(i=e,n.delegate&&(i=i.find(n.delegate)),i=i.eq(a)),d._openClick({mfpEl:i},e,n)}else d.isOpen&&d[t].apply(d,Array.prototype.slice.call(arguments,1));else t=u.extend(!0,{},t),r?e.data("magnificPopup",t):e[0].magnificPopup=t,d.addGroup(e,t);return e};var _,S,P,I="inline",A=function(){P&&(S.after(P.addClass(_)).detach(),P=null)};u.magnificPopup.registerModule(I,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){d.types.push(I),w(l+"."+I,function(){A()})},getInline:function(t,e){if(A(),t.src){var i=d.st.inline,n=u(t.src);if(n.length){var a=n[0].parentNode;a&&a.tagName&&(S||(_=i.hiddenClass,S=b(_),_="mfp-"+_),P=n.after(S).detach().removeClass(_)),d.updateStatus("ready")}else d.updateStatus("error",i.tNotFound),n=u("<div>");return t.inlineElement=n}return d.updateStatus("ready"),d._parseMarkup(e,{},t),e}}});var E,T="ajax",O=function(){E&&u(document.body).removeClass(E)},D=function(){O(),d.req&&d.req.abort()};u.magnificPopup.registerModule(T,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){d.types.push(T),E=d.st.ajax.cursor,w(l+"."+T,D),w("BeforeChange."+T,D)},getAjax:function(a){E&&u(document.body).addClass(E),d.updateStatus("loading");var t=u.extend({url:a.src,success:function(t,e,i){var n={data:t,xhr:i};C("ParseAjax",n),d.appendContent(u(n.data),T),a.finished=!0,O(),d._setFocus(),setTimeout(function(){d.wrap.addClass(v)},16),d.updateStatus("ready"),C("AjaxContentAdded")},error:function(){O(),a.finished=a.loadError=!0,d.updateStatus("error",d.st.ajax.tError.replace("%url%",a.src))}},d.st.ajax.settings);return d.req=u.ajax(t),""}}});var k;u.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var t=d.st.image,e=".image";d.types.push("image"),w(g+e,function(){"image"===d.currItem.type&&t.cursor&&u(document.body).addClass(t.cursor)}),w(l+e,function(){t.cursor&&u(document.body).removeClass(t.cursor),y.off("resize"+f)}),w("Resize"+e,d.resizeImage),d.isLowIE&&w("AfterChange",d.resizeImage)},resizeImage:function(){var t=d.currItem;if(t&&t.img&&d.st.image.verticalFit){var e=0;d.isLowIE&&(e=parseInt(t.img.css("padding-top"),10)+parseInt(t.img.css("padding-bottom"),10)),t.img.css("max-height",d.wH-e)}},_onImageHasSize:function(t){t.img&&(t.hasSize=!0,k&&clearInterval(k),t.isCheckingImgSize=!1,C("ImageHasSize",t),t.imgHidden&&(d.content&&d.content.removeClass("mfp-loading"),t.imgHidden=!1))},findImageSize:function(e){var i=0,n=e.img[0],a=function(t){k&&clearInterval(k),k=setInterval(function(){0<n.naturalWidth?d._onImageHasSize(e):(200<i&&clearInterval(k),3===++i?a(10):40===i?a(50):100===i&&a(500))},t)};a(1)},getImage:function(t,e){var i=0,n=function(){t&&(t.img[0].complete?(t.img.off(".mfploader"),t===d.currItem&&(d._onImageHasSize(t),d.updateStatus("ready")),t.hasSize=!0,t.loaded=!0,C("ImageLoadComplete")):++i<200?setTimeout(n,100):a())},a=function(){t&&(t.img.off(".mfploader"),t===d.currItem&&(d._onImageHasSize(t),d.updateStatus("error",s.tError.replace("%url%",t.src))),t.hasSize=!0,t.loaded=!0,t.loadError=!0)},s=d.st.image,o=e.find(".mfp-img");if(o.length){var r=document.createElement("img");r.className="mfp-img",t.el&&t.el.find("img").length&&(r.alt=t.el.find("img").attr("alt")),t.img=u(r).on("load.mfploader",n).on("error.mfploader",a),r.src=t.src,o.is("img")&&(t.img=t.img.clone()),0<(r=t.img[0]).naturalWidth?t.hasSize=!0:r.width||(t.hasSize=!1)}return d._parseMarkup(e,{title:function(t){if(t.data&&void 0!==t.data.title)return t.data.title;var e=d.st.image.titleSrc;if(e){if(u.isFunction(e))return e.call(d,t);if(t.el)return t.el.attr(e)||""}return""}(t),img_replaceWith:t.img},t),d.resizeImage(),t.hasSize?(k&&clearInterval(k),t.loadError?(e.addClass("mfp-loading"),d.updateStatus("error",s.tError.replace("%url%",t.src))):(e.removeClass("mfp-loading"),d.updateStatus("ready"))):(d.updateStatus("loading"),t.loading=!0,t.hasSize||(t.imgHidden=!0,e.addClass("mfp-loading"),d.findImageSize(t))),e}}});var N;u.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(t){return t.is("img")?t:t.find("img")}},proto:{initZoom:function(){var t,s=d.st.zoom,e=".zoom";if(s.enabled&&d.supportsTransition){var i,n,a=s.duration,o=function(t){var e=t.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),i="all "+s.duration/1e3+"s "+s.easing,n={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},a="transition";return n["-webkit-"+a]=n["-moz-"+a]=n["-o-"+a]=n[a]=i,e.css(n),e},r=function(){d.content.css("visibility","visible")};w("BuildControls"+e,function(){if(d._allowZoom()){if(clearTimeout(i),d.content.css("visibility","hidden"),!(t=d._getItemToZoom()))return void r();(n=o(t)).css(d._getOffset()),d.wrap.append(n),i=setTimeout(function(){n.css(d._getOffset(!0)),i=setTimeout(function(){r(),setTimeout(function(){n.remove(),t=n=null,C("ZoomAnimationEnded")},16)},a)},16)}}),w(c+e,function(){if(d._allowZoom()){if(clearTimeout(i),d.st.removalDelay=a,!t){if(!(t=d._getItemToZoom()))return;n=o(t)}n.css(d._getOffset(!0)),d.wrap.append(n),d.content.css("visibility","hidden"),setTimeout(function(){n.css(d._getOffset())},16)}}),w(l+e,function(){d._allowZoom()&&(r(),n&&n.remove(),t=null)})}},_allowZoom:function(){return"image"===d.currItem.type},_getItemToZoom:function(){return!!d.currItem.hasSize&&d.currItem.img},_getOffset:function(t){var e,i=(e=t?d.currItem.img:d.st.zoom.opener(d.currItem.el||d.currItem)).offset(),n=parseInt(e.css("padding-top"),10),a=parseInt(e.css("padding-bottom"),10);i.top-=u(window).scrollTop()-n;var s={width:e.width(),height:(r?e.innerHeight():e[0].offsetHeight)-a-n};return void 0===N&&(N=void 0!==document.createElement("p").style.MozTransform),N?s["-moz-transform"]=s.transform="translate("+i.left+"px,"+i.top+"px)":(s.left=i.left,s.top=i.top),s}}});var M="iframe",R=function(t){if(d.currTemplate[M]){var e=d.currTemplate[M].find("iframe");e.length&&(t||(e[0].src="//about:blank"),d.isIE8&&e.css("display",t?"block":"none"))}};u.magnificPopup.registerModule(M,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){d.types.push(M),w("BeforeChange",function(t,e,i){e!==i&&(e===M?R():i===M&&R(!0))}),w(l+"."+M,function(){R()})},getIframe:function(t,e){var i=t.src,n=d.st.iframe;u.each(n.patterns,function(){if(-1<i.indexOf(this.index))return this.id&&(i="string"==typeof this.id?i.substr(i.lastIndexOf(this.id)+this.id.length,i.length):this.id.call(this,i)),i=this.src.replace("%id%",i),!1});var a={};return n.srcAction&&(a[n.srcAction]=i),d._parseMarkup(e,a,t),d.updateStatus("ready"),e}}});var B=function(t){var e=d.items.length;return e-1<t?t-e:t<0?e+t:t},F=function(t,e,i){return t.replace(/%curr%/gi,e+1).replace(/%total%/gi,i)};u.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var s=d.st.gallery,t=".mfp-gallery";if(d.direction=!0,!s||!s.enabled)return!1;p+=" mfp-gallery",w(g+t,function(){s.navigateByImgClick&&d.wrap.on("click"+t,".mfp-img",function(){if(1<d.items.length)return d.next(),!1}),h.on("keydown"+t,function(t){37===t.keyCode?d.prev():39===t.keyCode&&d.next()})}),w("UpdateStatus"+t,function(t,e){e.text&&(e.text=F(e.text,d.currItem.index,d.items.length))}),w(m+t,function(t,e,i,n){var a=d.items.length;i.counter=1<a?F(s.tCounter,n.index,a):""}),w("BuildControls"+t,function(){if(1<d.items.length&&s.arrows&&!d.arrowLeft){var t=s.arrowMarkup,e=d.arrowLeft=u(t.replace(/%title%/gi,s.tPrev).replace(/%dir%/gi,"left")).addClass(o),i=d.arrowRight=u(t.replace(/%title%/gi,s.tNext).replace(/%dir%/gi,"right")).addClass(o);e.click(function(){d.prev()}),i.click(function(){d.next()}),d.container.append(e.add(i))}}),w("Change"+t,function(){d._preloadTimeout&&clearTimeout(d._preloadTimeout),d._preloadTimeout=setTimeout(function(){d.preloadNearbyImages(),d._preloadTimeout=null},16)}),w(l+t,function(){h.off(t),d.wrap.off("click"+t),d.arrowRight=d.arrowLeft=null})},next:function(){d.direction=!0,d.index=B(d.index+1),d.updateItemHTML()},prev:function(){d.direction=!1,d.index=B(d.index-1),d.updateItemHTML()},goTo:function(t){d.direction=t>=d.index,d.index=t,d.updateItemHTML()},preloadNearbyImages:function(){var t,e=d.st.gallery.preload,i=Math.min(e[0],d.items.length),n=Math.min(e[1],d.items.length);for(t=1;t<=(d.direction?n:i);t++)d._preloadItem(d.index+t);for(t=1;t<=(d.direction?i:n);t++)d._preloadItem(d.index-t)},_preloadItem:function(t){if(t=B(t),!d.items[t].preloaded){var e=d.items[t];e.parsed||(e=d.parseEl(t)),C("LazyLoad",e),"image"===e.type&&(e.img=u('<img class="mfp-img" />').on("load.mfploader",function(){e.hasSize=!0}).on("error.mfploader",function(){e.hasSize=!0,e.loadError=!0,C("LazyLoadError",e)}).attr("src",e.src)),e.preloaded=!0}}}});var L="retina";u.magnificPopup.registerModule(L,{options:{replaceSrc:function(t){return t.src.replace(/\.\w+$/,function(t){return"@2x"+t})},ratio:1},proto:{initRetina:function(){if(1<window.devicePixelRatio){var i=d.st.retina,n=i.ratio;1<(n=isNaN(n)?n():n)&&(w("ImageHasSize."+L,function(t,e){e.img.css({"max-width":e.img[0].naturalWidth/n,width:"100%"})}),w("ElementParse."+L,function(t,e){e.src=i.replaceSrc(e,n)}))}}}}),s()}),function(l,i,a,r){function c(t,e){this.settings=null,this.options=l.extend({},c.Defaults,e),this.$element=l(t),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},l.each(["onResize","onThrottledResize"],l.proxy(function(t,e){this._handlers[e]=l.proxy(this[e],this)},this)),l.each(c.Plugins,l.proxy(function(t,e){this._plugins[t.charAt(0).toLowerCase()+t.slice(1)]=new e(this)},this)),l.each(c.Workers,l.proxy(function(t,e){this._pipe.push({filter:e.filter,run:l.proxy(e.run,this)})},this)),this.setup(),this.initialize()}c.Defaults={items:3,loop:!1,center:!1,rewind:!1,checkVisibility:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:i,fallbackEasing:"swing",slideTransition:"",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},c.Width={Default:"default",Inner:"inner",Outer:"outer"},c.Type={Event:"event",State:"state"},c.Plugins={},c.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(t){t.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(t){var e=this.settings.margin||"",i=!this.settings.autoWidth,n=this.settings.rtl,a={width:"auto","margin-left":n?e:"","margin-right":n?"":e};!i&&this.$stage.children().css(a),t.css=a}},{filter:["width","items","settings"],run:function(t){var e=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,i=null,n=this._items.length,a=!this.settings.autoWidth,s=[];for(t.items={merge:!1,width:e};n--;)i=this._mergers[n],i=this.settings.mergeFit&&Math.min(i,this.settings.items)||i,t.items.merge=1<i||t.items.merge,s[n]=a?e*i:this._items[n].width();this._widths=s}},{filter:["items","settings"],run:function(){var t=[],e=this._items,i=this.settings,n=Math.max(2*i.items,4),a=2*Math.ceil(e.length/2),s=i.loop&&e.length?i.rewind?n:Math.max(n,a):0,o="",r="";for(s/=2;0<s;)t.push(this.normalize(t.length/2,!0)),o+=e[t[t.length-1]][0].outerHTML,t.push(this.normalize(e.length-1-(t.length-1)/2,!0)),r=e[t[t.length-1]][0].outerHTML+r,s-=1;this._clones=t,l(o).addClass("cloned").appendTo(this.$stage),l(r).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var t=this.settings.rtl?1:-1,e=this._clones.length+this._items.length,i=-1,n=0,a=0,s=[];++i<e;)n=s[i-1]||0,a=this._widths[this.relative(i)]+this.settings.margin,s.push(n+a*t);this._coordinates=s}},{filter:["width","items","settings"],run:function(){var t=this.settings.stagePadding,e=this._coordinates,i={width:Math.ceil(Math.abs(e[e.length-1]))+2*t,"padding-left":t||"","padding-right":t||""};this.$stage.css(i)}},{filter:["width","items","settings"],run:function(t){var e=this._coordinates.length,i=!this.settings.autoWidth,n=this.$stage.children();if(i&&t.items.merge)for(;e--;)t.css.width=this._widths[this.relative(e)],n.eq(e).css(t.css);else i&&(t.css.width=t.items.width,n.css(t.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(t){t.current=t.current?this.$stage.children().index(t.current):0,t.current=Math.max(this.minimum(),Math.min(this.maximum(),t.current)),this.reset(t.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var t,e,i,n,a=this.settings.rtl?1:-1,s=2*this.settings.stagePadding,o=this.coordinates(this.current())+s,r=o+this.width()*a,l=[];for(i=0,n=this._coordinates.length;i<n;i++)t=this._coordinates[i-1]||0,e=Math.abs(this._coordinates[i])+s*a,(this.op(t,"<=",o)&&this.op(t,">",r)||this.op(e,"<",o)&&this.op(e,">",r))&&l.push(i);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+l.join("), :eq(")+")").addClass("active"),this.$stage.children(".center").removeClass("center"),this.settings.center&&this.$stage.children().eq(this.current()).addClass("center")}}],c.prototype.initializeStage=function(){this.$stage=this.$element.find("."+this.settings.stageClass),this.$stage.length||(this.$element.addClass(this.options.loadingClass),this.$stage=l("<"+this.settings.stageElement+">",{class:this.settings.stageClass}).wrap(l("<div/>",{class:this.settings.stageOuterClass})),this.$element.append(this.$stage.parent()))},c.prototype.initializeItems=function(){var t=this.$element.find(".owl-item");if(t.length)return this._items=t.get().map(function(t){return l(t)}),this._mergers=this._items.map(function(){return 1}),void this.refresh();this.replace(this.$element.children().not(this.$stage.parent())),this.isVisible()?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass)},c.prototype.initialize=function(){var t,e,i;(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading"))&&(t=this.$element.find("img"),e=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:r,i=this.$element.children(e).width(),t.length&&i<=0&&this.preloadAutoWidthImages(t));this.initializeStage(),this.initializeItems(),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},c.prototype.isVisible=function(){return!this.settings.checkVisibility||this.$element.is(":visible")},c.prototype.setup=function(){var e=this.viewport(),t=this.options.responsive,i=-1,n=null;t?(l.each(t,function(t){t<=e&&i<t&&(i=Number(t))}),"function"==typeof(n=l.extend({},this.options,t[i])).stagePadding&&(n.stagePadding=n.stagePadding()),delete n.responsive,n.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+i))):n=l.extend({},this.options),this.trigger("change",{property:{name:"settings",value:n}}),this._breakpoint=i,this.settings=n,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},c.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},c.prototype.prepare=function(t){var e=this.trigger("prepare",{content:t});return e.data||(e.data=l("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(t)),this.trigger("prepared",{content:e.data}),e.data},c.prototype.update=function(){for(var t=0,e=this._pipe.length,i=l.proxy(function(t){return this[t]},this._invalidated),n={};t<e;)(this._invalidated.all||0<l.grep(this._pipe[t].filter,i).length)&&this._pipe[t].run(n),t++;this._invalidated={},!this.is("valid")&&this.enter("valid")},c.prototype.width=function(t){switch(t=t||c.Width.Default){case c.Width.Inner:case c.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},c.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},c.prototype.onThrottledResize=function(){i.clearTimeout(this.resizeTimer),this.resizeTimer=i.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},c.prototype.onResize=function(){return!!this._items.length&&this._width!==this.$element.width()&&!!this.isVisible()&&(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized")))},c.prototype.registerEventHandlers=function(){l.support.transition&&this.$stage.on(l.support.transition.end+".owl.core",l.proxy(this.onTransitionEnd,this)),!1!==this.settings.responsive&&this.on(i,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",l.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",l.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",l.proxy(this.onDragEnd,this)))},c.prototype.onDragStart=function(t){var e=null;3!==t.which&&(l.support.transform?e={x:(e=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","))[16===e.length?12:4],y:e[16===e.length?13:5]}:(e=this.$stage.position(),e={x:this.settings.rtl?e.left+this.$stage.width()-this.width()+this.settings.margin:e.left,y:e.top}),this.is("animating")&&(l.support.transform?this.animate(e.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===t.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=l(t.target),this._drag.stage.start=e,this._drag.stage.current=e,this._drag.pointer=this.pointer(t),l(a).on("mouseup.owl.core touchend.owl.core",l.proxy(this.onDragEnd,this)),l(a).one("mousemove.owl.core touchmove.owl.core",l.proxy(function(t){var e=this.difference(this._drag.pointer,this.pointer(t));l(a).on("mousemove.owl.core touchmove.owl.core",l.proxy(this.onDragMove,this)),Math.abs(e.x)<Math.abs(e.y)&&this.is("valid")||(t.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},c.prototype.onDragMove=function(t){var e=null,i=null,n=null,a=this.difference(this._drag.pointer,this.pointer(t)),s=this.difference(this._drag.stage.start,a);this.is("dragging")&&(t.preventDefault(),this.settings.loop?(e=this.coordinates(this.minimum()),i=this.coordinates(this.maximum()+1)-e,s.x=((s.x-e)%i+i)%i+e):(e=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),i=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),n=this.settings.pullDrag?-1*a.x/5:0,s.x=Math.max(Math.min(s.x,e+n),i+n)),this._drag.stage.current=s,this.animate(s.x))},c.prototype.onDragEnd=function(t){var e=this.difference(this._drag.pointer,this.pointer(t)),i=this._drag.stage.current,n=0<e.x^this.settings.rtl?"left":"right";l(a).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(0!==e.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(i.x,0!==e.x?n:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=n,(3<Math.abs(e.x)||300<(new Date).getTime()-this._drag.time)&&this._drag.target.one("click.owl.core",function(){return!1})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},c.prototype.closest=function(i,n){var a=-1,s=this.width(),o=this.coordinates();return this.settings.freeDrag||l.each(o,l.proxy(function(t,e){return"left"===n&&e-30<i&&i<e+30?a=t:"right"===n&&e-s-30<i&&i<e-s+30?a=t+1:this.op(i,"<",e)&&this.op(i,">",o[t+1]!==r?o[t+1]:e-s)&&(a="left"===n?t+1:t),-1===a},this)),this.settings.loop||(this.op(i,">",o[this.minimum()])?a=i=this.minimum():this.op(i,"<",o[this.maximum()])&&(a=i=this.maximum())),a},c.prototype.animate=function(t){var e=0<this.speed();this.is("animating")&&this.onTransitionEnd(),e&&(this.enter("animating"),this.trigger("translate")),l.support.transform3d&&l.support.transition?this.$stage.css({transform:"translate3d("+t+"px,0px,0px)",transition:this.speed()/1e3+"s"+(this.settings.slideTransition?" "+this.settings.slideTransition:"")}):e?this.$stage.animate({left:t+"px"},this.speed(),this.settings.fallbackEasing,l.proxy(this.onTransitionEnd,this)):this.$stage.css({left:t+"px"})},c.prototype.is=function(t){return this._states.current[t]&&0<this._states.current[t]},c.prototype.current=function(t){if(t===r)return this._current;if(0===this._items.length)return r;if(t=this.normalize(t),this._current!==t){var e=this.trigger("change",{property:{name:"position",value:t}});e.data!==r&&(t=this.normalize(e.data)),this._current=t,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},c.prototype.invalidate=function(t){return"string"===l.type(t)&&(this._invalidated[t]=!0,this.is("valid")&&this.leave("valid")),l.map(this._invalidated,function(t,e){return e})},c.prototype.reset=function(t){(t=this.normalize(t))!==r&&(this._speed=0,this._current=t,this.suppress(["translate","translated"]),this.animate(this.coordinates(t)),this.release(["translate","translated"]))},c.prototype.normalize=function(t,e){var i=this._items.length,n=e?0:this._clones.length;return!this.isNumeric(t)||i<1?t=r:(t<0||i+n<=t)&&(t=((t-n/2)%i+i)%i+n/2),t},c.prototype.relative=function(t){return t-=this._clones.length/2,this.normalize(t,!0)},c.prototype.maximum=function(t){var e,i,n,a=this.settings,s=this._coordinates.length;if(a.loop)s=this._clones.length/2+this._items.length-1;else if(a.autoWidth||a.merge){if(e=this._items.length)for(i=this._items[--e].width(),n=this.$element.width();e--&&!((i+=this._items[e].width()+this.settings.margin)>n););s=e+1}else s=a.center?this._items.length-1:this._items.length-a.items;return t&&(s-=this._clones.length/2),Math.max(s,0)},c.prototype.minimum=function(t){return t?0:this._clones.length/2},c.prototype.items=function(t){return t===r?this._items.slice():(t=this.normalize(t,!0),this._items[t])},c.prototype.mergers=function(t){return t===r?this._mergers.slice():(t=this.normalize(t,!0),this._mergers[t])},c.prototype.clones=function(i){var e=this._clones.length/2,n=e+this._items.length,a=function(t){return t%2==0?n+t/2:e-(t+1)/2};return i===r?l.map(this._clones,function(t,e){return a(e)}):l.map(this._clones,function(t,e){return t===i?a(e):null})},c.prototype.speed=function(t){return t!==r&&(this._speed=t),this._speed},c.prototype.coordinates=function(t){var e,i=1,n=t-1;return t===r?l.map(this._coordinates,l.proxy(function(t,e){return this.coordinates(e)},this)):(this.settings.center?(this.settings.rtl&&(i=-1,n=t+1),e=this._coordinates[t],e+=(this.width()-e+(this._coordinates[n]||0))/2*i):e=this._coordinates[n]||0,e=Math.ceil(e))},c.prototype.duration=function(t,e,i){return 0===i?0:Math.min(Math.max(Math.abs(e-t),1),6)*Math.abs(i||this.settings.smartSpeed)},c.prototype.to=function(t,e){var i=this.current(),n=null,a=t-this.relative(i),s=(0<a)-(a<0),o=this._items.length,r=this.minimum(),l=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(a)>o/2&&(a+=-1*s*o),(n=(((t=i+a)-r)%o+o)%o+r)!==t&&n-a<=l&&0<n-a&&(i=n-a,t=n,this.reset(i))):this.settings.rewind?t=(t%(l+=1)+l)%l:t=Math.max(r,Math.min(l,t)),this.speed(this.duration(i,t,e)),this.current(t),this.isVisible()&&this.update()},c.prototype.next=function(t){t=t||!1,this.to(this.relative(this.current())+1,t)},c.prototype.prev=function(t){t=t||!1,this.to(this.relative(this.current())-1,t)},c.prototype.onTransitionEnd=function(t){if(t!==r&&(t.stopPropagation(),(t.target||t.srcElement||t.originalTarget)!==this.$stage.get(0)))return!1;this.leave("animating"),this.trigger("translated")},c.prototype.viewport=function(){var t;return this.options.responsiveBaseElement!==i?t=l(this.options.responsiveBaseElement).width():i.innerWidth?t=i.innerWidth:a.documentElement&&a.documentElement.clientWidth?t=a.documentElement.clientWidth:console.warn("Can not detect viewport width."),t},c.prototype.replace=function(t){this.$stage.empty(),this._items=[],t&&(t=t instanceof jQuery?t:l(t)),this.settings.nestedItemSelector&&(t=t.find("."+this.settings.nestedItemSelector)),t.filter(function(){return 1===this.nodeType}).each(l.proxy(function(t,e){e=this.prepare(e),this.$stage.append(e),this._items.push(e),this._mergers.push(1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},c.prototype.add=function(t,e){var i=this.relative(this._current);e=e===r?this._items.length:this.normalize(e,!0),t=t instanceof jQuery?t:l(t),this.trigger("add",{content:t,position:e}),t=this.prepare(t),0===this._items.length||e===this._items.length?(0===this._items.length&&this.$stage.append(t),0!==this._items.length&&this._items[e-1].after(t),this._items.push(t),this._mergers.push(1*t.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[e].before(t),this._items.splice(e,0,t),this._mergers.splice(e,0,1*t.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)),this._items[i]&&this.reset(this._items[i].index()),this.invalidate("items"),this.trigger("added",{content:t,position:e})},c.prototype.remove=function(t){(t=this.normalize(t,!0))!==r&&(this.trigger("remove",{content:this._items[t],position:t}),this._items[t].remove(),this._items.splice(t,1),this._mergers.splice(t,1),this.invalidate("items"),this.trigger("removed",{content:null,position:t}))},c.prototype.preloadAutoWidthImages=function(t){t.each(l.proxy(function(t,e){this.enter("pre-loading"),e=l(e),l(new Image).one("load",l.proxy(function(t){e.attr("src",t.target.src),e.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()},this)).attr("src",e.attr("src")||e.attr("data-src")||e.attr("data-src-retina"))},this))},c.prototype.destroy=function(){for(var t in this.$element.off(".owl.core"),this.$stage.off(".owl.core"),l(a).off(".owl.core"),!1!==this.settings.responsive&&(i.clearTimeout(this.resizeTimer),this.off(i,"resize",this._handlers.onThrottledResize)),this._plugins)this._plugins[t].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$stage.remove(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},c.prototype.op=function(t,e,i){var n=this.settings.rtl;switch(e){case"<":return n?i<t:t<i;case">":return n?t<i:i<t;case">=":return n?t<=i:i<=t;case"<=":return n?i<=t:t<=i}},c.prototype.on=function(t,e,i,n){t.addEventListener?t.addEventListener(e,i,n):t.attachEvent&&t.attachEvent("on"+e,i)},c.prototype.off=function(t,e,i,n){t.removeEventListener?t.removeEventListener(e,i,n):t.detachEvent&&t.detachEvent("on"+e,i)},c.prototype.trigger=function(t,e,i,n,a){var s={item:{count:this._items.length,index:this.current()}},o=l.camelCase(l.grep(["on",t,i],function(t){return t}).join("-").toLowerCase()),r=l.Event([t,"owl",i||"carousel"].join(".").toLowerCase(),l.extend({relatedTarget:this},s,e));return this._supress[t]||(l.each(this._plugins,function(t,e){e.onTrigger&&e.onTrigger(r)}),this.register({type:c.Type.Event,name:t}),this.$element.trigger(r),this.settings&&"function"==typeof this.settings[o]&&this.settings[o].call(this,r)),r},c.prototype.enter=function(t){l.each([t].concat(this._states.tags[t]||[]),l.proxy(function(t,e){this._states.current[e]===r&&(this._states.current[e]=0),this._states.current[e]++},this))},c.prototype.leave=function(t){l.each([t].concat(this._states.tags[t]||[]),l.proxy(function(t,e){this._states.current[e]--},this))},c.prototype.register=function(i){if(i.type===c.Type.Event){if(l.event.special[i.name]||(l.event.special[i.name]={}),!l.event.special[i.name].owl){var e=l.event.special[i.name]._default;l.event.special[i.name]._default=function(t){return!e||!e.apply||t.namespace&&-1!==t.namespace.indexOf("owl")?t.namespace&&-1<t.namespace.indexOf("owl"):e.apply(this,arguments)},l.event.special[i.name].owl=!0}}else i.type===c.Type.State&&(this._states.tags[i.name]?this._states.tags[i.name]=this._states.tags[i.name].concat(i.tags):this._states.tags[i.name]=i.tags,this._states.tags[i.name]=l.grep(this._states.tags[i.name],l.proxy(function(t,e){return l.inArray(t,this._states.tags[i.name])===e},this)))},c.prototype.suppress=function(t){l.each(t,l.proxy(function(t,e){this._supress[e]=!0},this))},c.prototype.release=function(t){l.each(t,l.proxy(function(t,e){delete this._supress[e]},this))},c.prototype.pointer=function(t){var e={x:null,y:null};return(t=(t=t.originalEvent||t||i.event).touches&&t.touches.length?t.touches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t).pageX?(e.x=t.pageX,e.y=t.pageY):(e.x=t.clientX,e.y=t.clientY),e},c.prototype.isNumeric=function(t){return!isNaN(parseFloat(t))},c.prototype.difference=function(t,e){return{x:t.x-e.x,y:t.y-e.y}},l.fn.owlCarousel=function(e){var n=Array.prototype.slice.call(arguments,1);return this.each(function(){var t=l(this),i=t.data("owl.carousel");i||(i=new c(this,"object"==typeof e&&e),t.data("owl.carousel",i),l.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(t,e){i.register({type:c.Type.Event,name:e}),i.$element.on(e+".owl.carousel.core",l.proxy(function(t){t.namespace&&t.relatedTarget!==this&&(this.suppress([e]),i[e].apply(this,[].slice.call(arguments,1)),this.release([e]))},i))})),"string"==typeof e&&"_"!==e.charAt(0)&&i[e].apply(i,n)})},l.fn.owlCarousel.Constructor=c}(window.Zepto||window.jQuery,window,document),function(e,i,t,n){var a=function(t){this._core=t,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":e.proxy(function(t){t.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=e.extend({},a.Defaults,this._core.options),this._core.$element.on(this._handlers)};a.Defaults={autoRefresh:!0,autoRefreshInterval:500},a.prototype.watch=function(){this._interval||(this._visible=this._core.isVisible(),this._interval=i.setInterval(e.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},a.prototype.refresh=function(){this._core.isVisible()!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},a.prototype.destroy=function(){var t,e;for(t in i.clearInterval(this._interval),this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},e.fn.owlCarousel.Constructor.Plugins.AutoRefresh=a}(window.Zepto||window.jQuery,window,document),function(r,s,t,e){var i=function(t){this._core=t,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":r.proxy(function(t){if(t.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(t.property&&"position"==t.property.name||"initialized"==t.type)){var e=this._core.settings,i=e.center&&Math.ceil(e.items/2)||e.items,n=e.center&&-1*i||0,a=(t.property&&void 0!==t.property.value?t.property.value:this._core.current())+n,s=this._core.clones().length,o=r.proxy(function(t,e){this.load(e)},this);for(0<e.lazyLoadEager&&(i+=e.lazyLoadEager,e.loop&&(a-=e.lazyLoadEager,i++));n++<i;)this.load(s/2+this._core.relative(a)),s&&r.each(this._core.clones(this._core.relative(a)),o),a++}},this)},this._core.options=r.extend({},i.Defaults,this._core.options),this._core.$element.on(this._handlers)};i.Defaults={lazyLoad:!1,lazyLoadEager:0},i.prototype.load=function(t){var e=this._core.$stage.children().eq(t),i=e&&e.find(".owl-lazy");!i||-1<r.inArray(e.get(0),this._loaded)||(i.each(r.proxy(function(t,e){var i,n=r(e),a=1<s.devicePixelRatio&&n.attr("data-src-retina")||n.attr("data-src")||n.attr("data-srcset");this._core.trigger("load",{element:n,url:a},"lazy"),n.is("img")?n.one("load.owl.lazy",r.proxy(function(){n.css("opacity",1),this._core.trigger("loaded",{element:n,url:a},"lazy")},this)).attr("src",a):n.is("source")?n.one("load.owl.lazy",r.proxy(function(){this._core.trigger("loaded",{element:n,url:a},"lazy")},this)).attr("srcset",a):((i=new Image).onload=r.proxy(function(){n.css({"background-image":'url("'+a+'")',opacity:"1"}),this._core.trigger("loaded",{element:n,url:a},"lazy")},this),i.src=a)},this)),this._loaded.push(e.get(0)))},i.prototype.destroy=function(){var t,e;for(t in this.handlers)this._core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},r.fn.owlCarousel.Constructor.Plugins.Lazy=i}(window.Zepto||window.jQuery,window,document),function(o,i,t,e){var n=function(t){this._core=t,this._previousHeight=null,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":o.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":o.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&"position"===t.property.name&&this.update()},this),"loaded.owl.lazy":o.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&t.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=o.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers),this._intervalId=null;var e=this;o(i).on("load",function(){e._core.settings.autoHeight&&e.update()}),o(i).resize(function(){e._core.settings.autoHeight&&(null!=e._intervalId&&clearTimeout(e._intervalId),e._intervalId=setTimeout(function(){e.update()},250))})};n.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},n.prototype.update=function(){var t=this._core._current,e=t+this._core.settings.items,i=this._core.settings.lazyLoad,n=this._core.$stage.children().toArray().slice(t,e),a=[],s=0;o.each(n,function(t,e){a.push(o(e).height())}),(s=Math.max.apply(null,a))<=1&&i&&this._previousHeight&&(s=this._previousHeight),this._previousHeight=s,this._core.$stage.parent().height(s).addClass(this._core.settings.autoHeightClass)},n.prototype.destroy=function(){var t,e;for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},o.fn.owlCarousel.Constructor.Plugins.AutoHeight=n}(window.Zepto||window.jQuery,window,document),function(u,t,e,i){var n=function(t){this._core=t,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":u.proxy(function(t){t.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":u.proxy(function(t){t.namespace&&this._core.settings.video&&this.isInFullScreen()&&t.preventDefault()},this),"refreshed.owl.carousel":u.proxy(function(t){t.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":u.proxy(function(t){t.namespace&&"position"===t.property.name&&this._playing&&this.stop()},this),"prepared.owl.carousel":u.proxy(function(t){if(t.namespace){var e=u(t.content).find(".owl-video");e.length&&(e.css("display","none"),this.fetch(e,u(t.content)))}},this)},this._core.options=u.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",u.proxy(function(t){this.play(t)},this))};n.Defaults={video:!1,videoHeight:!1,videoWidth:!1},n.prototype.fetch=function(t,e){var i=t.attr("data-vimeo-id")?"vimeo":t.attr("data-vzaar-id")?"vzaar":"youtube",n=t.attr("data-vimeo-id")||t.attr("data-youtube-id")||t.attr("data-vzaar-id"),a=t.attr("data-width")||this._core.settings.videoWidth,s=t.attr("data-height")||this._core.settings.videoHeight,o=t.attr("href");if(!o)throw new Error("Missing video URL.");if(-1<(n=o.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com|be\-nocookie\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/))[3].indexOf("youtu"))i="youtube";else if(-1<n[3].indexOf("vimeo"))i="vimeo";else{if(!(-1<n[3].indexOf("vzaar")))throw new Error("Video URL not supported.");i="vzaar"}n=n[6],this._videos[o]={type:i,id:n,width:a,height:s},e.attr("data-video",o),this.thumbnail(t,this._videos[o])},n.prototype.thumbnail=function(e,t){var i,n,a=t.width&&t.height?"width:"+t.width+"px;height:"+t.height+"px;":"",s=e.find("img"),o="src",r="",l=this._core.settings,c=function(t){'<div class="owl-video-play-icon"></div>',i=l.lazyLoad?u("<div/>",{class:"owl-video-tn "+r,srcType:t}):u("<div/>",{class:"owl-video-tn",style:"opacity:1;background-image:url("+t+")"}),e.after(i),e.after('<div class="owl-video-play-icon"></div>')};if(e.wrap(u("<div/>",{class:"owl-video-wrapper",style:a})),this._core.settings.lazyLoad&&(o="data-src",r="owl-lazy"),s.length)return c(s.attr(o)),s.remove(),!1;"youtube"===t.type?(n="//img.youtube.com/vi/"+t.id+"/hqdefault.jpg",c(n)):"vimeo"===t.type?u.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+t.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){n=t[0].thumbnail_large,c(n)}}):"vzaar"===t.type&&u.ajax({type:"GET",url:"//vzaar.com/api/videos/"+t.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){n=t.framegrab_url,c(n)}})},n.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},n.prototype.play=function(t){var e,i=u(t.target).closest("."+this._core.settings.itemClass),n=this._videos[i.attr("data-video")],a=n.width||"100%",s=n.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),i=this._core.items(this._core.relative(i.index())),this._core.reset(i.index()),(e=u('<iframe frameborder="0" allowfullscreen mozallowfullscreen webkitAllowFullScreen ></iframe>')).attr("height",s),e.attr("width",a),"youtube"===n.type?e.attr("src","//www.youtube.com/embed/"+n.id+"?autoplay=1&rel=0&v="+n.id):"vimeo"===n.type?e.attr("src","//player.vimeo.com/video/"+n.id+"?autoplay=1"):"vzaar"===n.type&&e.attr("src","//view.vzaar.com/"+n.id+"/player?autoplay=true"),u(e).wrap('<div class="owl-video-frame" />').insertAfter(i.find(".owl-video")),this._playing=i.addClass("owl-video-playing"))},n.prototype.isInFullScreen=function(){var t=e.fullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement;return t&&u(t).parent().hasClass("owl-video-frame")},n.prototype.destroy=function(){var t,e;for(t in this._core.$element.off("click.owl.video"),this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},u.fn.owlCarousel.Constructor.Plugins.Video=n}(window.Zepto||window.jQuery,window,document),function(o,t,e,i){var n=function(t){this.core=t,this.core.options=o.extend({},n.Defaults,this.core.options),this.swapping=!0,this.previous=void 0,this.next=void 0,this.handlers={"change.owl.carousel":o.proxy(function(t){t.namespace&&"position"==t.property.name&&(this.previous=this.core.current(),this.next=t.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":o.proxy(function(t){t.namespace&&(this.swapping="translated"==t.type)},this),"translate.owl.carousel":o.proxy(function(t){t.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};n.Defaults={animateOut:!1,animateIn:!1},n.prototype.swap=function(){if(1===this.core.settings.items&&o.support.animation&&o.support.transition){this.core.speed(0);var t,e=o.proxy(this.clear,this),i=this.core.$stage.children().eq(this.previous),n=this.core.$stage.children().eq(this.next),a=this.core.settings.animateIn,s=this.core.settings.animateOut;this.core.current()!==this.previous&&(s&&(t=this.core.coordinates(this.previous)-this.core.coordinates(this.next),i.one(o.support.animation.end,e).css({left:t+"px"}).addClass("animated owl-animated-out").addClass(s)),a&&n.one(o.support.animation.end,e).addClass("animated owl-animated-in").addClass(a))}},n.prototype.clear=function(t){o(t.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},n.prototype.destroy=function(){var t,e;for(t in this.handlers)this.core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},o.fn.owlCarousel.Constructor.Plugins.Animate=n}(window.Zepto||window.jQuery,window,document),function(n,a,e,t){var i=function(t){this._core=t,this._call=null,this._time=0,this._timeout=0,this._paused=!0,this._handlers={"changed.owl.carousel":n.proxy(function(t){t.namespace&&"settings"===t.property.name?this._core.settings.autoplay?this.play():this.stop():t.namespace&&"position"===t.property.name&&this._paused&&(this._time=0)},this),"initialized.owl.carousel":n.proxy(function(t){t.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":n.proxy(function(t,e,i){t.namespace&&this.play(e,i)},this),"stop.owl.autoplay":n.proxy(function(t){t.namespace&&this.stop()},this),"mouseover.owl.autoplay":n.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":n.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this),"touchstart.owl.core":n.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"touchend.owl.core":n.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=n.extend({},i.Defaults,this._core.options)};i.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},i.prototype._next=function(t){this._call=a.setTimeout(n.proxy(this._next,this,t),this._timeout*(Math.round(this.read()/this._timeout)+1)-this.read()),this._core.is("interacting")||e.hidden||this._core.next(t||this._core.settings.autoplaySpeed)},i.prototype.read=function(){return(new Date).getTime()-this._time},i.prototype.play=function(t,e){var i;this._core.is("rotating")||this._core.enter("rotating"),t=t||this._core.settings.autoplayTimeout,i=Math.min(this._time%(this._timeout||t),t),this._paused?(this._time=this.read(),this._paused=!1):a.clearTimeout(this._call),this._time+=this.read()%t-i,this._timeout=t,this._call=a.setTimeout(n.proxy(this._next,this,e),t-i)},i.prototype.stop=function(){this._core.is("rotating")&&(this._time=0,this._paused=!0,a.clearTimeout(this._call),this._core.leave("rotating"))},i.prototype.pause=function(){this._core.is("rotating")&&!this._paused&&(this._time=this.read(),this._paused=!0,a.clearTimeout(this._call))},i.prototype.destroy=function(){var t,e;for(t in this.stop(),this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},n.fn.owlCarousel.Constructor.Plugins.autoplay=i}(window.Zepto||window.jQuery,window,document),function(s,t,e,i){"use strict";var n=function(t){this._core=t,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":s.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+s(t.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":s.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,0,this._templates.pop())},this),"remove.owl.carousel":s.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,1)},this),"changed.owl.carousel":s.proxy(function(t){t.namespace&&"position"==t.property.name&&this.draw()},this),"initialized.owl.carousel":s.proxy(function(t){t.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":s.proxy(function(t){t.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=s.extend({},n.Defaults,this._core.options),this.$element.on(this._handlers)};n.Defaults={nav:!1,navText:['<span aria-label="Previous">&#x2039;</span>','<span aria-label="Next">&#x203a;</span>'],navSpeed:!1,navElement:'button type="button" role="presentation"',navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},n.prototype.initialize=function(){var t,i=this._core.settings;for(t in this._controls.$relative=(i.navContainer?s(i.navContainer):s("<div>").addClass(i.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=s("<"+i.navElement+">").addClass(i.navClass[0]).html(i.navText[0]).prependTo(this._controls.$relative).on("click",s.proxy(function(t){this.prev(i.navSpeed)},this)),this._controls.$next=s("<"+i.navElement+">").addClass(i.navClass[1]).html(i.navText[1]).appendTo(this._controls.$relative).on("click",s.proxy(function(t){this.next(i.navSpeed)},this)),i.dotsData||(this._templates=[s('<button role="button">').addClass(i.dotClass).append(s("<span>")).prop("outerHTML")]),this._controls.$absolute=(i.dotsContainer?s(i.dotsContainer):s("<div>").addClass(i.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","button",s.proxy(function(t){var e=s(t.target).parent().is(this._controls.$absolute)?s(t.target).index():s(t.target).parent().index();t.preventDefault(),this.to(e,i.dotsSpeed)},this)),this._overrides)this._core[t]=s.proxy(this[t],this)},n.prototype.destroy=function(){var t,e,i,n,a;for(t in a=this._core.settings,this._handlers)this.$element.off(t,this._handlers[t]);for(e in this._controls)"$relative"===e&&a.navContainer?this._controls[e].html(""):this._controls[e].remove();for(n in this.overides)this._core[n]=this._overrides[n];for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},n.prototype.update=function(){var t,e,i=this._core.clones().length/2,n=i+this._core.items().length,a=this._core.maximum(!0),s=this._core.settings,o=s.center||s.autoWidth||s.dotsData?1:s.dotsEach||s.items;if("page"!==s.slideBy&&(s.slideBy=Math.min(s.slideBy,s.items)),s.dots||"page"==s.slideBy)for(this._pages=[],t=i,e=0;t<n;t++){if(o<=e||0===e){if(this._pages.push({start:Math.min(a,t-i),end:t-i+o-1}),Math.min(a,t-i)===a)break;e=0,0}e+=this._core.mergers(this._core.relative(t))}},n.prototype.draw=function(){var t,e=this._core.settings,i=this._core.items().length<=e.items,n=this._core.relative(this._core.current()),a=e.loop||e.rewind;this._controls.$relative.toggleClass("disabled",!e.nav||i),e.nav&&(this._controls.$previous.toggleClass("disabled",!a&&n<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!a&&n>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!e.dots||i),e.dots&&(t=this._pages.length-this._controls.$absolute.children().length,e.dotsData&&0!==t?this._controls.$absolute.html(this._templates.join("")):0<t?this._controls.$absolute.append(new Array(t+1).join(this._templates[0])):t<0&&this._controls.$absolute.children().slice(t).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(s.inArray(this.current(),this._pages)).addClass("active"))},n.prototype.onTrigger=function(t){var e=this._core.settings;t.page={index:s.inArray(this.current(),this._pages),count:this._pages.length,size:e&&(e.center||e.autoWidth||e.dotsData?1:e.dotsEach||e.items)}},n.prototype.current=function(){var i=this._core.relative(this._core.current());return s.grep(this._pages,s.proxy(function(t,e){return t.start<=i&&t.end>=i},this)).pop()},n.prototype.getPosition=function(t){var e,i,n=this._core.settings;return"page"==n.slideBy?(e=s.inArray(this.current(),this._pages),i=this._pages.length,t?++e:--e,e=this._pages[(e%i+i)%i].start):(e=this._core.relative(this._core.current()),i=this._core.items().length,t?e+=n.slideBy:e-=n.slideBy),e},n.prototype.next=function(t){s.proxy(this._overrides.to,this._core)(this.getPosition(!0),t)},n.prototype.prev=function(t){s.proxy(this._overrides.to,this._core)(this.getPosition(!1),t)},n.prototype.to=function(t,e,i){var n;!i&&this._pages.length?(n=this._pages.length,s.proxy(this._overrides.to,this._core)(this._pages[(t%n+n)%n].start,e)):s.proxy(this._overrides.to,this._core)(t,e)},s.fn.owlCarousel.Constructor.Plugins.Navigation=n}(window.Zepto||window.jQuery,window,document),function(n,a,t,e){"use strict";var i=function(t){this._core=t,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":n.proxy(function(t){t.namespace&&"URLHash"===this._core.settings.startPosition&&n(a).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":n.proxy(function(t){if(t.namespace){var e=n(t.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!e)return;this._hashes[e]=t.content}},this),"changed.owl.carousel":n.proxy(function(t){if(t.namespace&&"position"===t.property.name){var i=this._core.items(this._core.relative(this._core.current())),e=n.map(this._hashes,function(t,e){return t===i?e:null}).join();if(!e||a.location.hash.slice(1)===e)return;a.location.hash=e}},this)},this._core.options=n.extend({},i.Defaults,this._core.options),this.$element.on(this._handlers),n(a).on("hashchange.owl.navigation",n.proxy(function(t){var e=a.location.hash.substring(1),i=this._core.$stage.children(),n=this._hashes[e]&&i.index(this._hashes[e]);void 0!==n&&n!==this._core.current()&&this._core.to(this._core.relative(n),!1,!0)},this))};i.Defaults={URLhashListener:!1},i.prototype.destroy=function(){var t,e;for(t in n(a).off("hashchange.owl.navigation"),this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},n.fn.owlCarousel.Constructor.Plugins.Hash=i}(window.Zepto||window.jQuery,window,document),function(a,t,e,s){function i(t,i){var n=!1,e=t.charAt(0).toUpperCase()+t.slice(1);return a.each((t+" "+r.join(e+" ")+e).split(" "),function(t,e){if(o[e]!==s)return n=!i||e,!1}),n}function n(t){return i(t,!0)}var o=a("<support>").get(0).style,r="Webkit Moz O ms".split(" "),l={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},c=function(){return!!i("transform")},u=function(){return!!i("perspective")},d=function(){return!!i("animation")};(function(){return!!i("transition")})()&&(a.support.transition=new String(n("transition")),a.support.transition.end=l.transition.end[a.support.transition]),d()&&(a.support.animation=new String(n("animation")),a.support.animation.end=l.animation.end[a.support.animation]),c()&&(a.support.transform=new String(n("transform")),a.support.transform3d=u())}(window.Zepto||window.jQuery,window,document),jQuery(document).ready(function(r){r("html").delay(1500).queue(function(t){r(this).addClass("loaded"),t()}),r(document).ready(function(t){t(".toggle").first().addClass("active")}),r(document).ready(function(){var t=document.getElementById("nav").offsetHeight;r(".content.no-hero").css("padding-top",t)}),r(function(){var e=r("nav");r(document).ready(function(t){10<=t(window).scrollTop()?e.addClass("dark"):e.removeClass("dark")}),r(window).scroll(function(){50<=r(window).scrollTop()?e.addClass("dark"):e.removeClass("dark")})}),r("nav a, a.button, a.next-section").click(function(){if("#"!=r(this).attr("href"))return r("html, body").animate({scrollTop:r(r(this).attr("href")).offset().top-100},500),!1}),r(document).ready(function(){function a(t){if(t){var e=Number(r("input#quantity-booking").val()),i=r(".tour-total").attr("cost");(i||"0"===i)&&Number.isInteger(e)&&r(".tour-total span").html("&#163;&#160;"+i*e)}else o("total")}function e(){field=r("#quantity-booking");var t=parseInt(r(field).attr("min")),e=parseInt(r(field).attr("max")),i=parseInt(r(field).val());(i=i<0?0:i)?(i<t?i=t:e<i&&(i=e),r(field).val(""),r(field).val(i),r(".summary span.sum-number").text(i),o(["error","total"]),a(!0)):(r(field).val(""),r(".summary span.sum-number").text(""))}function s(t){var e=new Date(t),i=""+(e.getMonth()+1),n=""+e.getDate(),a=e.getFullYear();return i.length<2&&(i="0"+i),n.length<2&&(n="0"+n),[a,i,n].join("-")}function o(t){t instanceof Array||(t=[t]),t.includes("date")&&r(".summary span.sum-date").text(""),t.includes("time")&&r(".summary span.sum-time").text(""),t.includes("number")&&r(".summary span.sum-number").text(""),t.includes("error")&&r(".tour-error").text(""),t.includes("total")&&r(".tour-total span").text("")}r("#tour-datepicker").length&&r.ajax({type:"POST",dataType:"JSON",data:{action:"available_dates"},url:ajax_object.ajax_url,success:function(t){var n;n=t,r("#tour-datepicker").datepicker({firstDay:0,minDate:0,dateFormat:"yy-mm-dd",beforeShowDay:function(t){for(var e=!1,i=0;i<n.length;i++)if("once"==n[i].recurrence?e=s(t)==n[i].date:"weekly"==n[i].recurrence?e=new Date(n[i].date).getDay()==t.getDay()&&s(t)>=n[i].date:"monthly"==n[i].recurrence&&(e=new Date(n[i].date).getDate()==t.getDate()&&s(t)>=n[i].date),e)return[e,""];return[e,""]},onSelect:function(e){o(["time","number","error","total"]),r.ajax({type:"POST",dataType:"JSON",data:{action:"available_hours",date:e},url:ajax_object.ajax_url,success:function(t){r("#time-booking").html(t),r("#tour-datepicker").attr("date-booking",e),r("#time-booking").val(""),r("#quantity-booking").val(""),r(".spots-remaining").html(""),r(".summary span.sum-date").text(e.split("-").reverse().join("/")),r(".tour-total").attr("cost",void 0)}})}}),r("#tour-datepicker").find("a.ui-state-highlight").removeClass("ui-state-highlight"),r("#tour-datepicker").find("a.ui-state-active").removeClass("ui-state-active"),r("#tour-datepicker").val(""),r("#tour-datepicker").show(),r(".input-tour select").on("change",function(){var t=r("#tour-datepicker").attr("date-booking");if(!t)return r(".tour-error").text("Please select a date"),!1;var e=r("#time-booking").find(":selected").val();if(!e)return r(".tour-error").text("Please select a time"),!1;var i={action:"get_availability",date:t,time:e};o(["number","error","total"]),r.post(ajax_object.ajax_url,i,function(t){(t=JSON.parse(t)).success?(r("#quantity-booking").val(""),r("#quantity-booking").attr("max",t.success.availability.quantity),r(".spots-remaining").html(t.success.availability.description),r(".summary span.sum-time").text(e),r(".tour-total").attr("cost",t.success.cost),a(!1)):t.error&&r(".tour-error").text(t.error)})}),r(".input-tour input#quantity-booking").on("input",function(){e()}),r(".input-tour input#quantity-booking").on("change",function(){e()}),r(".input-tour button.book-tour").on("click",function(){var t=r("#tour-datepicker").attr("date-booking");if(!t)return r(".tour-error").text("Please select a date"),!1;var e=r("#time-booking").find(":selected").val();if(!e)return r(".tour-error").text("Please select a time"),!1;var i=parseInt(r("#quantity-booking").val());if(!i)return r(".tour-error").text("Please provide number of visitors'"),!1;r.ajax({type:"POST",dataType:"JSON",data:{action:"add_to_cart",date:t,time:e,quantity:i},url:ajax_object.ajax_url,success:function(t){window.location.href=ajax_object.checkout_url}})}),r(".input-tour select").on("click",function(){if(!r("#tour-datepicker").attr("date-booking"))return r(".tour-error").text("Please select a date"),!1}),r(".minus-custom").on("click",function(){var t=r("#quantity-booking").val();t=t||0,t--,r("#quantity-booking").val(t),r("#quantity-booking").trigger("change")}),r(".plus-custom").on("click",function(){var t=r("#quantity-booking").val();t=t||0,t++,r("#quantity-booking").val(t),r("#quantity-booking").trigger("change")})}})}),r(document).ready(function(){if(0<r("#map-contact").length&&JSON.parse(r("#map-contact").attr("points"))){var t=JSON.parse(r("#map-contact").attr("points"));mapboxgl.accessToken="pk.eyJ1Ijoic2lsdmVybGVzcyIsImEiOiJjaXNibDlmM2gwMDB2Mm9tazV5YWRmZTVoIn0.ilTX0t72N3P3XbzGFhUKcg";var n=new mapboxgl.Map({container:"map-contact",style:"mapbox://styles/silverless/cjvnw465y0bl91cmionu5nqmo",center:[-1.729931,51.420942],zoom:11,scrollZoom:!1});n.addControl(new mapboxgl.NavigationControl,"bottom-right");var e=new MapboxGeocoder({accessToken:mapboxgl.accessToken,marker:{color:"grey"},countries:"gb",mapboxgl:mapboxgl,flyTo:!1});n.addControl(e,"bottom-left");var a=[];({type:"FeatureCollection",features:t}).features.forEach(function(e){var t=document.createElement("div");t.className="marker",new mapboxgl.Marker(t).setLngLat(e.geometry.coordinates).setPopup(new mapboxgl.Popup({offset:25}).setHTML('<div class="name">'+e.properties.name+'</div><div class="address">'+e.properties.address+'</div><div class="address">'+e.properties.postcode+'</div><div class="phone">'+e.properties.phone+'</div><div class="buttons-popup"><a target="_blank" href="https://www.google.com/maps/dir//'+e.properties.directions+"/@"+e.geometry.coordinates[1]+","+e.geometry.coordinates[0]+',15z">Get Directions</a><a target="_blank" href="'+e.properties.website+'">Visit Website</a></div>')).addTo(n),t.addEventListener("click",function(t){position=e.geometry.coordinates[1]+.003,n.flyTo({center:[e.geometry.coordinates[0],position],zoom:15})}),a.push(new mapboxgl.LngLat(e.geometry.coordinates[0],e.geometry.coordinates[1]))}),e.on("result",function(t){var l=[],c=new mapboxgl.LngLat(t.result.geometry.coordinates[0],t.result.geometry.coordinates[1]);a.forEach(function(t){var e,i,n,a,s,o,r;l.push({point:t,distance:(e=c,i=t,n=e.lat.toRadians(),a=i.lat.toRadians(),s=(i.lat-e.lat).toRadians(),o=(i.lng-e.lng).toRadians(),r=Math.sin(s/2)*Math.sin(s/2)+Math.cos(n)*Math.cos(a)*Math.sin(o/2)*Math.sin(o/2),2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r))*6371e3)})});var e=l.reduce(function(t,e){return t.distance<e.distance?t:e}),i=new mapboxgl.LngLatBounds;i.extend(e.point),i.extend(c),n.fitBounds(i,{padding:100})}),r(window).bind("mousewheel DOMMouseScroll",function(t){1==t.ctrlKey?n.scrollZoom.enable():n.scrollZoom.disable()}),Number.prototype.toRadians=function(){return this*Math.PI/180}}}),r(document).ready(function(){if(0<r("#brewery-map-contact").length&&JSON.parse(r("#brewery-map-contact").attr("points"))){var t=JSON.parse(r("#brewery-map-contact").attr("points"));mapboxgl.accessToken="pk.eyJ1Ijoic2lsdmVybGVzcyIsImEiOiJjaXNibDlmM2gwMDB2Mm9tazV5YWRmZTVoIn0.ilTX0t72N3P3XbzGFhUKcg";var n=new mapboxgl.Map({container:"brewery-map-contact",style:"mapbox://styles/silverless/cjvnw465y0bl91cmionu5nqmo",center:[-1.65569,51.45109],zoom:11,scrollZoom:!1});n.addControl(new mapboxgl.NavigationControl,"bottom-right");var e=new MapboxGeocoder({accessToken:mapboxgl.accessToken,marker:{color:"grey"},countries:"gb",mapboxgl:mapboxgl,flyTo:!1});n.addControl(e,"bottom-left");var a=[];({type:"FeatureCollection",features:t}).features.forEach(function(e){var t=document.createElement("div");t.className="marker",new mapboxgl.Marker(t).setLngLat(e.geometry.coordinates).setPopup(new mapboxgl.Popup({offset:25}).setHTML('<div class="name">Ramsbury Brewery & Distillery</div><div class="address">'+e.properties.address+'</div><div class="phone">'+e.properties.phone+"</div>")).addTo(n),t.addEventListener("click",function(t){position=e.geometry.coordinates[1]+.003,n.flyTo({center:[e.geometry.coordinates[0],position],zoom:13})}),a.push(new mapboxgl.LngLat(e.geometry.coordinates[0],e.geometry.coordinates[1]))}),e.on("result",function(t){var l=[],c=new mapboxgl.LngLat(t.result.geometry.coordinates[0],t.result.geometry.coordinates[1]);a.forEach(function(t){var e,i,n,a,s,o,r;l.push({point:t,distance:(e=c,i=t,n=e.lat.toRadians(),a=i.lat.toRadians(),s=(i.lat-e.lat).toRadians(),o=(i.lng-e.lng).toRadians(),r=Math.sin(s/2)*Math.sin(s/2)+Math.cos(n)*Math.cos(a)*Math.sin(o/2)*Math.sin(o/2),2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r))*6371e3)})});var e=l.reduce(function(t,e){return t.distance<e.distance?t:e}),i=new mapboxgl.LngLatBounds;i.extend(e.point),i.extend(c),n.fitBounds(i,{padding:100})}),r(window).bind("mousewheel DOMMouseScroll",function(t){1==t.ctrlKey?n.scrollZoom.enable():n.scrollZoom.disable()}),Number.prototype.toRadians=function(){return this*Math.PI/180}}}),r(document).ready(function(){r(".modal-toggle.play-video").on("click",function(){r(".modal .video")[0].currentTime=0,r(".modal .video")[0].play(),r(".modal").toggleClass("is-visible"),r("html").toggleClass("no-scroll")}),r(".modal-toggle.pause-video").on("click",function(){r(".modal .video")[0].pause(),r(".modal").toggleClass("is-visible"),r("html").toggleClass("no-scroll")})}),r(document).ready(function(){r(".lightbox-gallery").magnificPopup({type:"image",gallery:{enabled:!0}})}),r(".large-carousel").owlCarousel({loop:!0,nav:!1,navClass:["owl-prev","owl-next"],dots:!1,responsive:{0:{items:1},600:{items:1},1000:{items:1}}}),r(".small-carousel").owlCarousel({loop:!0,autoplay:!0,autoplaySpeed:9e3,autoplayTimeout:5e3,autoplayHoverPause:!0,nav:!1,navClass:["owl-prev","owl-next"],responsive:{0:{items:1},600:{items:4},1000:{items:7}}}),r(".testimonial-slider").owlCarousel({autoplay:!0,autoplayTimeout:1e4,loop:!0,margin:10,nav:!1,dots:!1,responsive:{0:{items:1},2000:{items:1}}}),r(".about-carousel").owlCarousel({loop:!1,nav:!1,navClass:["owl-prev","owl-next"],dots:!1,responsive:{0:{items:1},600:{items:1},1000:{items:1}}}),r(".trigger-copy-expand").click(function(t){r(".collapsed-content").addClass("expand"),r(this).hide(),r(".trigger-copy-collapse").show()}),r(".trigger-copy-collapse").click(function(t){r(".collapsed-content").removeClass("expand"),r(this).hide(),r(".trigger-copy-expand").show()}),r(".trigger-expand").click(function(t){r(this).closest(".expanding-copy").find(".trigger-expand").hide(),r(this).closest(".expanding-copy").addClass("expand"),r(this).closest(".expanding-copy").find(".trigger-collapse").show()}),r(".trigger-collapse").click(function(t){var e=this;r(this).closest(".expanding-copy").removeClass("expand"),setTimeout(function(){r(e).closest(".expanding-copy").find(".trigger-collapse").hide(),r(e).closest(".expanding-copy").find(".trigger-expand").show()},500)}),r(".toggle").click(function(){r(".toggle.active").removeClass("active"),r(this).addClass("active")}),r(".search-trigger").click(function(){r("#searchform").addClass("expand"),r(this).hide()}),r(".hamburger-menu").click(function(){var t=r("nav");t.addClass("dark"),r(".mainMenu").slideToggle(),t.toggleClass("nav-collapse");var e=r(window).scrollTop();t.hasClass("nav-collapse")||(10<=e?t.addClass("dark"):t.removeClass("dark"))}),r(document).on("click",".plus",function(t){$input=r(this).prev("input.qty");var e=parseInt($input.val()),i=$input.attr("step");i=void 0!==i?parseInt(i):1,$input.val(e+i).change()}),r(document).on("click",".minus",function(t){$input=r(this).next("input.qty");var e=parseInt($input.val()),i=$input.attr("step");i=void 0!==i?parseInt(i):1,0<e&&$input.val(e-i).change()})});